<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of updatePlotsDistribution</title>
  <meta name="keywords" content="updatePlotsDistribution">
  <meta name="description" content=" plots the RTD and PSD curves into NUCLEUSinv">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- # nucleus --><!-- # functions --><!-- menu.html interface -->
<h1>updatePlotsDistribution
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong> plots the RTD and PSD curves into NUCLEUSinv</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function updatePlotsDistribution </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">updatePlotsDistribution plots the RTD and PSD curves into NUCLEUSinv

 Syntax:
       updatePlotsDistribution

 Inputs:
       none

 Outputs:
       none

 Example:
       updatePlotsDistribution

 Other m-files required:
       none

 Subfunctions:
       findApproxTlgmAmplitude

 MAT-files required:
       none

 See also: NUCLEUSinv
 Author: see AUTHORS.md
 email: see AUTHORS.md
 License: MIT License (at end)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="clearSingleAxis.html" class="code" title="function clearSingleAxis(axh)">clearSingleAxis</a>	 clears an individual axis</li><li><a href="updatePlotsDistributionInfo.html" class="code" title="function updatePlotsDistributionInfo">updatePlotsDistributionInfo</a>	 plots cut-offs and diffusion regime lines</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../nucleus/callbacks/contextmenus/onContextPlotsPSD.html" class="code" title="function onContextPlotsPSD(src,~)">onContextPlotsPSD</a>	 checks the label of the distribution axis context menu</li><li><a href="../../../nucleus/callbacks/contextmenus/onContextPlotsRTD.html" class="code" title="function onContextPlotsRTD(src,~)">onContextPlotsRTD</a>	 checks the label of the distribution axis context menu</li><li><a href="../../../nucleus/callbacks/edits/onEditValue.html" class="code" title="function onEditValue(src,~)">onEditValue</a>	 updates all edit field values, checks for wrong inputs and</li><li><a href="../../../nucleus/callbacks/listboxes/onListboxData.html" class="code" title="function onListboxData(src,~)">onListboxData</a>	 handles the calls from the context menu of the data</li><li><a href="calibratePorosity.html" class="code" title="function calibratePorosity">calibratePorosity</a>	 determines a sample's porosity from a calibration</li><li><a href="changeColorTheme.html" class="code" title="function changeColorTheme(fig_tag,th)">changeColorTheme</a>	 changes the color theme of the calling figure</li><li><a href="runInversionStd.html" class="code" title="function runInversionStd">runInversionStd</a>	 controls the standard inversion process to invert a</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function amp = findApproxTlgmAmplitude(t,f,TLGM)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function updatePlotsDistribution</a>
0002 <span class="comment">%updatePlotsDistribution plots the RTD and PSD curves into NUCLEUSinv</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% Syntax:</span>
0005 <span class="comment">%       updatePlotsDistribution</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% Inputs:</span>
0008 <span class="comment">%       none</span>
0009 <span class="comment">%</span>
0010 <span class="comment">% Outputs:</span>
0011 <span class="comment">%       none</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% Example:</span>
0014 <span class="comment">%       updatePlotsDistribution</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% Other m-files required:</span>
0017 <span class="comment">%       none</span>
0018 <span class="comment">%</span>
0019 <span class="comment">% Subfunctions:</span>
0020 <span class="comment">%       findApproxTlgmAmplitude</span>
0021 <span class="comment">%</span>
0022 <span class="comment">% MAT-files required:</span>
0023 <span class="comment">%       none</span>
0024 <span class="comment">%</span>
0025 <span class="comment">% See also: NUCLEUSinv</span>
0026 <span class="comment">% Author: see AUTHORS.md</span>
0027 <span class="comment">% email: see AUTHORS.md</span>
0028 <span class="comment">% License: MIT License (at end)</span>
0029 
0030 <span class="comment">%------------- BEGIN CODE --------------</span>
0031 
0032 <span class="comment">%% get GUI handle and data</span>
0033 fig = findobj(<span class="string">'Tag'</span>,<span class="string">'INV'</span>);
0034 gui = getappdata(fig,<span class="string">'gui'</span>);
0035 data = getappdata(fig,<span class="string">'data'</span>);
0036 col = gui.myui.colors;
0037 
0038 nmrproc = data.results.nmrproc;
0039 <span class="comment">% only continue if there is actual data to show</span>
0040 <span class="keyword">if</span> isfield(data.results,<span class="string">'invstd'</span>)
0041     invstd = data.results.invstd;
0042     
0043     <span class="comment">%% RTD</span>
0044     <span class="comment">% RTD axis</span>
0045     ax = gui.axes_handles.rtd;
0046     <a href="clearSingleAxis.html" class="code" title="function clearSingleAxis(axh)">clearSingleAxis</a>(ax);
0047     hold(ax,<span class="string">'on'</span>);
0048     set(gui.cm_handles.axes_rtd_view,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0049     
0050     <span class="comment">% x-axis label</span>
0051     <span class="keyword">switch</span> data.process.timescale
0052         <span class="keyword">case</span> <span class="string">'s'</span>
0053             xlstring = <span class="string">'relaxation time [s]'</span>;
0054         <span class="keyword">case</span> <span class="string">'ms'</span>
0055             xlstring = <span class="string">'relaxation time [ms]'</span>;
0056     <span class="keyword">end</span>
0057     
0058     <span class="keyword">switch</span> data.invstd.invtype
0059         <span class="keyword">case</span> <span class="string">'mono'</span>
0060             <span class="keyword">switch</span> nmrproc.T1T2
0061                 <span class="keyword">case</span> <span class="string">'T1'</span>
0062                     T = invstd.T1;
0063                 <span class="keyword">case</span> <span class="string">'T2'</span>
0064                     T = invstd.T2;
0065             <span class="keyword">end</span>
0066             
0067             stem(T,invstd.E0,<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0068             
0069             <span class="comment">% limits</span>
0070             ticks = floor(log10(min(T)))-2 :1: ceil(log10(max(T)))+2;
0071             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[10^(ticks(1)) 10^(ticks(end))],<span class="string">'XTick'</span>,10.^ticks);
0072             set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 invstd.E0*1.05]);
0073             <span class="comment">% labels</span>
0074             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0075             set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,<span class="string">'initial amplitude E0'</span>);
0076             <span class="comment">% grid</span>
0077             grid(ax,<span class="string">'on'</span>);
0078             
0079         <span class="keyword">case</span> <span class="string">'free'</span>
0080             mymark = {<span class="string">'o-'</span>,<span class="string">'+-'</span>,<span class="string">'s-'</span>,<span class="string">'d-'</span>,<span class="string">'x-'</span>};
0081             mycols = [0.8941 0.1020 0.1098;0.3020 0.6863 0.2902;
0082                 0.2157 0.4941 0.7216;0.5961 0.3059 0.6392;0.6510 0.3373 0.1569];
0083             <span class="keyword">switch</span> nmrproc.T1T2
0084                 <span class="keyword">case</span> <span class="string">'T1'</span>
0085                     T = invstd.T1;
0086                 <span class="keyword">case</span> <span class="string">'T2'</span>
0087                     T = invstd.T2;
0088             <span class="keyword">end</span>
0089             
0090             lgdstr = cell(1,1);
0091             <span class="keyword">for</span> i = 1:data.invstd.freeDT
0092                 stem(T(i),invstd.E0(i),mymark{i},<span class="string">'Color'</span>,mycols(i,:),<span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0093                 lgdstr{i} = [<span class="string">'T'</span>,num2str(i)];
0094             <span class="keyword">end</span>
0095             
0096             <span class="comment">% limits</span>
0097             ticks = floor(log10(min(T)))-2 :1: ceil(log10(max(T)))+2;
0098             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[10^(ticks(1)) 10^(ticks(end))],<span class="string">'XTick'</span>,10.^ticks);
0099             set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 max(invstd.E0)*1.05]);
0100             <span class="comment">% labels</span>
0101             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0102             set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,<span class="string">'individual amplitudes Ex [-]'</span>);
0103             <span class="comment">% grid</span>
0104             grid(ax,<span class="string">'on'</span>);
0105             
0106         <span class="keyword">case</span> {<span class="string">'LU'</span>}
0107             <span class="comment">% scale distribution by porosity</span>
0108             F = invstd.T1T2f;
0109             <span class="keyword">if</span> sum(F)&gt;0
0110                 F = (data.invstd.porosity*100).*F./sum(F);
0111                 ylims = [0 max(F)*1.05];
0112             <span class="keyword">else</span>
0113                 ylims = [-1 1];
0114             <span class="keyword">end</span>
0115             <span class="keyword">if</span> data.invstd.porosity == 1
0116                 ylab1 = <span class="string">'amplitudes [-]'</span>;
0117                 ylab2 = <span class="string">'cumulative amplitudes [-]'</span>;
0118             <span class="keyword">else</span>
0119                 ylab1 = <span class="string">'water content [vol. %]'</span>;
0120                 ylab2 = <span class="string">'cumulative water content [vol. %]'</span>;
0121             <span class="keyword">end</span>
0122             <span class="comment">% F = data.invstd.porosity.*F./trapz(T,F);</span>
0123             
0124             <span class="keyword">switch</span> data.info.RTDflag
0125                 <span class="keyword">case</span> <span class="string">'freq'</span>
0126                     plot(invstd.T1T2me,F,<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0127                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0128                     <span class="comment">% find approx. TLGM amplitude</span>
0129                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(invstd.T1T2me,F,invstd.Tlgm);
0130                     stem(invstd.Tlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="keyword">...</span>
0131                         <span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0132                     
0133                     <span class="comment">% y-limits</span>
0134                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,ylims);
0135                     <span class="comment">% y-label</span>
0136                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab1);
0137                     
0138                 <span class="keyword">case</span> <span class="string">'cum'</span>
0139                     plot(invstd.T1T2me,cumsum(F),<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0140                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0141                     <span class="comment">% find approx. TLGM amplitude</span>
0142                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(invstd.T1T2me,cumsum(F),invstd.Tlgm);
0143                     stem(invstd.Tlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="keyword">...</span>
0144                         <span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0145                     
0146                     <span class="comment">% y-limits</span>
0147                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 sum(F)*1.05]);
0148                     <span class="comment">% y-label</span>
0149                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab2);
0150             <span class="keyword">end</span>
0151             
0152             <span class="comment">% x-limits</span>
0153             ticks = round(log10(min(invstd.T1T2me)) :1: log10(max(invstd.T1T2me)));
0154             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[10^(ticks(1)) 10^(ticks(end))],<span class="string">'XTick'</span>,10.^ticks);
0155             <span class="comment">% x-label</span>
0156             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0157             <span class="comment">% grid</span>
0158             grid(ax,<span class="string">'on'</span>);
0159             
0160         <span class="keyword">case</span> {<span class="string">'NNLS'</span>}
0161             <span class="comment">% scale distribution by porosity</span>
0162             F = invstd.T1T2f;
0163             <span class="keyword">if</span> sum(F)&gt;0
0164                 <span class="comment">% apply same scaling to the uncertainty patch</span>
0165                 <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0166                     f_min = data.results.invstd.uncert.interp_f_min;
0167                     f_max = data.results.invstd.uncert.interp_f_max;
0168                     f_min = (data.invstd.porosity*100).*f_min./sum(F);
0169                     f_max = (data.invstd.porosity*100).*f_max./sum(F);
0170                 <span class="keyword">end</span>                
0171                 F = (data.invstd.porosity*100).*F./sum(F);
0172                 
0173                 ylims = [0 max(F)*1.05];
0174             <span class="keyword">else</span>
0175                 ylims = [-1 1];
0176             <span class="keyword">end</span>
0177             <span class="keyword">if</span> data.invstd.porosity == 1
0178                 ylab1 = <span class="string">'amplitudes [-]'</span>;
0179                 ylab2 = <span class="string">'cumulative amplitudes [-]'</span>;
0180             <span class="keyword">else</span>
0181                 ylab1 = <span class="string">'water content [vol. %]'</span>;
0182                 ylab2 = <span class="string">'cumulative water content [vol. %]'</span>;
0183             <span class="keyword">end</span>
0184             <span class="comment">% F = data.invstd.porosity.*F./trapz(T,F);</span>
0185             
0186             <span class="keyword">switch</span> data.info.RTDflag
0187                 <span class="keyword">case</span> <span class="string">'freq'</span>
0188                     <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0189                         <span class="comment">% plot uncertainty</span>
0190                         <span class="keyword">for</span> i = 1:size(invstd.uncert.interp_f,1)
0191                          plot(invstd.T1T2me,(data.invstd.porosity*100).*invstd.uncert.interp_f(i,:)./sum(invstd.T1T2f),<span class="keyword">...</span>
0192                          <span class="string">'-'</span>,<span class="string">'Color'</span>,[0.5 0.5 0.5],<span class="string">'LineWidth'</span>,1,<span class="string">'Parent'</span>,ax);
0193                          <span class="keyword">end</span>
0194 <span class="comment">%                         verts = [invstd.T1T2me f_min'; flipud(invstd.T1T2me) flipud(f_max')];</span>
0195 <span class="comment">%                         faces = 1:1:size(verts,1);</span>
0196 <span class="comment">%                         patch('Faces',faces,'Vertices',verts,'FaceColor',[0.64 0.64 0.64],...</span>
0197 <span class="comment">%                             'FaceAlpha',0.75,'EdgeColor','none','Parent',ax);</span>
0198                         <span class="comment">% adjust y-limits</span>
0199                         ylims(2) = max([ylims(2) max(f_max)*1.05]);
0200                     <span class="keyword">end</span>
0201                     
0202                     plot(invstd.T1T2me,F,<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0203                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0204                     <span class="comment">% find approx. TLGM amplitude</span>
0205                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(invstd.T1T2me,F,invstd.Tlgm);
0206                     stem(invstd.Tlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="keyword">...</span>
0207                         <span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0208                     
0209                     <span class="comment">% y-limits</span>
0210                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,ylims);
0211                     <span class="comment">% y-label</span>
0212                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab1);
0213                     
0214                 <span class="keyword">case</span> <span class="string">'cum'</span>
0215                     <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0216                         verts = [invstd.T1T2me cumsum(F)-f_min'; flipud(invstd.T1T2me) flipud(cumsum(F)+f_max')];
0217                         faces = 1:1:size(verts,1);
0218                         patch(<span class="string">'Faces'</span>,faces,<span class="string">'Vertices'</span>,verts,<span class="string">'FaceColor'</span>,[0.64 0.64 0.64],<span class="keyword">...</span>
0219                             <span class="string">'FaceAlpha'</span>,0.75,<span class="string">'EdgeColor'</span>,<span class="string">'none'</span>,<span class="string">'Parent'</span>,ax);
0220                     <span class="keyword">end</span>
0221                     plot(invstd.T1T2me,cumsum(F),<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0222                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0223                     <span class="comment">% find approx. TLGM amplitude</span>
0224                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(invstd.T1T2me,cumsum(F),invstd.Tlgm);
0225                     stem(invstd.Tlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="keyword">...</span>
0226                         <span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0227                     
0228                     <span class="comment">% y-limits</span>
0229                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 sum(F)*1.05]);
0230                     <span class="comment">% y-label</span>
0231                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab2);
0232             <span class="keyword">end</span>
0233             
0234             <span class="comment">% x-limits</span>
0235             ticks = round(log10(min(invstd.T1T2me)) :1: log10(max(invstd.T1T2me)));
0236             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[10^(ticks(1)) 10^(ticks(end))],<span class="string">'XTick'</span>,10.^ticks);
0237             <span class="comment">% x-label</span>
0238             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0239             <span class="comment">% grid</span>
0240             grid(ax,<span class="string">'on'</span>);    
0241             
0242         <span class="keyword">case</span> {<span class="string">'MUMO'</span>}
0243             <span class="comment">% single distributions for different T, sigma and amplitude</span>
0244             dist = zeros(length(invstd.x)/3,numel(invstd.T1T2me));
0245             <span class="keyword">for</span> i = 1:length(invstd.x)/3
0246                 mu = invstd.T(i);
0247                 sigma = invstd.S(i);
0248                 amp = invstd.E(i);
0249                 
0250                 tmp = 1./( sigma*sqrt(2*pi)).*exp(-((log(invstd.T1T2me) - log(mu))/ sqrt(2)/sigma).^2);
0251                 
0252                 <span class="comment">% scale to amplitude</span>
0253                 dist(i,:) = (tmp/sum(tmp)) * amp;
0254             <span class="keyword">end</span>
0255             
0256             <span class="comment">% scale distribution by porosity</span>
0257             F = invstd.T1T2f;
0258             <span class="keyword">if</span> sum(F)&gt;0
0259                 <span class="keyword">for</span> i = 1:length(invstd.x)/3
0260                     dist(i,:) = (data.invstd.porosity*100).*dist(i,:)./sum(F);
0261                 <span class="keyword">end</span>
0262                 <span class="comment">% apply same scaling to the uncertainty patch</span>
0263                 <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0264                     f_min = data.results.invstd.uncert.interp_f_min;
0265                     f_max = data.results.invstd.uncert.interp_f_max;
0266                     f_min = (data.invstd.porosity*100).*f_min./sum(F);
0267                     f_max = (data.invstd.porosity*100).*f_max./sum(F);
0268                 <span class="keyword">end</span>
0269                 F = (data.invstd.porosity*100).*F./sum(F);
0270                 
0271                 ylims = [0 max(F)*1.05];
0272             <span class="keyword">else</span>
0273                 ylims = [-1 1];
0274             <span class="keyword">end</span>
0275             <span class="keyword">if</span> data.invstd.porosity == 1
0276                 ylab1 = <span class="string">'amplitudes [-]'</span>;
0277                 ylab2 = <span class="string">'cumulative amplitudes [-]'</span>;
0278             <span class="keyword">else</span>
0279                 ylab1 = <span class="string">'water content [vol. %]'</span>;
0280                 ylab2 = <span class="string">'cumulative water content [vol. %]'</span>;
0281             <span class="keyword">end</span>
0282             <span class="comment">% F = data.invstd.porosity.*F./trapz(T,F);</span>
0283             
0284             mycols = [0.2157 0.4941 0.7216;0.3020 0.6863 0.2902;
0285                 0.5961 0.3059 0.6392;0.6510 0.3373 0.1569;0.8941 0.1020 0.1098];
0286             
0287             <span class="keyword">switch</span> data.info.RTDflag
0288                 <span class="keyword">case</span> <span class="string">'freq'</span>
0289                     <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0290                         <span class="comment">% plot uncertainty</span>
0291                         <span class="comment">% lines</span>
0292                         <span class="comment">% for i = 1:size(invstd.TDIST,1)</span>
0293                         <span class="comment">%  plot(invstd.T1T2me,(data.invstd.porosity*100).*invstd.TDIST(i,:)./sum(invstd.T1T2f),...</span>
0294                         <span class="comment">%  '-','Color',[0.5 0.5 0.5],'LineWidth',1,'Parent',ax);</span>
0295                         <span class="comment">%  end</span>
0296                         <span class="comment">% patch</span>
0297 <span class="comment">%                         TDIST = invstd.TDIST;</span>
0298 <span class="comment">%                         for i = 1:size(invstd.TDIST,1)</span>
0299 <span class="comment">%                             TDIST(i,:) = (data.invstd.porosity*100).*invstd.TDIST(i,:)./sum(invstd.T1T2f);</span>
0300 <span class="comment">%                         end</span>
0301 <span class="comment">%                         TDISTmin = min(TDIST);</span>
0302 <span class="comment">%                         TDISTmax = max(TDIST);</span>
0303 <span class="comment">%                         verts = [nmrproc.t(nmrproc.t&gt;0) s_min; flipud(nmrproc.t(nmrproc.t&gt;0)) flipud(s_max)];</span>
0304 <span class="comment">%                         faces = 1:1:size(verts,1);</span>
0305 <span class="comment">%</span>
0306                         verts = [invstd.T1T2me f_min'; flipud(invstd.T1T2me) flipud(f_max')];
0307                         faces = 1:1:size(verts,1);
0308                         patch(<span class="string">'Faces'</span>,faces,<span class="string">'Vertices'</span>,verts,<span class="string">'FaceColor'</span>,[0.64 0.64 0.64],<span class="keyword">...</span>
0309                             <span class="string">'FaceAlpha'</span>,0.75,<span class="string">'EdgeColor'</span>,<span class="string">'none'</span>,<span class="string">'Parent'</span>,ax);
0310                         <span class="comment">% adjust y-limits</span>
0311                         ylims(2) = max([ylims(2) max(f_max)*1.05]);
0312                     <span class="keyword">end</span>
0313                     
0314                     <span class="comment">% plot total RTD</span>
0315                     plot(invstd.T1T2me,F,<span class="string">'-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0316                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0317                     <span class="comment">% plot individual RTDs</span>
0318                     <span class="keyword">for</span> i = 1:length(invstd.x)/3
0319                         plot(invstd.T1T2me,dist(i,:),<span class="string">'--'</span>,<span class="string">'Color'</span>,mycols(i,:),<span class="keyword">...</span>
0320                             <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0321                     <span class="keyword">end</span>
0322                     <span class="comment">% find approx. TLGM amplitude</span>
0323                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(invstd.T1T2me,F,invstd.Tlgm);
0324                     stem(invstd.Tlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="keyword">...</span>
0325                         <span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0326                     
0327                     <span class="comment">% y-limits</span>
0328                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,ylims);
0329                     <span class="comment">% y-label</span>
0330                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab1);
0331                     
0332                 <span class="keyword">case</span> <span class="string">'cum'</span>
0333                     <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0334                         verts = [invstd.T1T2me cumsum(F)-f_min'; flipud(invstd.T1T2me) flipud(cumsum(F)+f_max')];
0335                         faces = 1:1:size(verts,1);
0336                         patch(<span class="string">'Faces'</span>,faces,<span class="string">'Vertices'</span>,verts,<span class="string">'FaceColor'</span>,[0.64 0.64 0.64],<span class="keyword">...</span>
0337                             <span class="string">'FaceAlpha'</span>,0.75,<span class="string">'EdgeColor'</span>,<span class="string">'none'</span>,<span class="string">'Parent'</span>,ax);
0338                     <span class="keyword">end</span>
0339                     plot(invstd.T1T2me,cumsum(F),<span class="string">'-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0340                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0341                     <span class="keyword">for</span> i = 1:length(invstd.x)/3
0342                         plot(invstd.T1T2me,cumsum(dist(i,:)),<span class="string">'--'</span>,<span class="string">'Color'</span>,mycols(i,:),<span class="keyword">...</span>
0343                             <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0344                     <span class="keyword">end</span>
0345                     <span class="comment">% find approx. TLGM amplitude</span>
0346                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(invstd.T1T2me,cumsum(F),invstd.Tlgm);
0347                     stem(invstd.Tlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="keyword">...</span>
0348                         <span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0349                     
0350                     <span class="comment">% y-limits</span>
0351                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 sum(F)*1.05]);
0352                     <span class="comment">% y-label</span>
0353                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab2);
0354             <span class="keyword">end</span>
0355             
0356             <span class="comment">% x-limits</span>
0357             ticks = round(log10(min(invstd.T1T2me)) :1: log10(max(invstd.T1T2me)));
0358             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[10^(ticks(1)) 10^(ticks(end))],<span class="string">'XTick'</span>,10.^ticks);
0359             <span class="comment">% x-label</span>
0360             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0361             <span class="comment">% grid</span>
0362             grid(ax,<span class="string">'on'</span>);
0363     <span class="keyword">end</span>
0364     
0365     <span class="comment">%% PSD</span>
0366     <span class="comment">% PSD axis</span>
0367     ax = gui.axes_handles.psd;
0368     <a href="clearSingleAxis.html" class="code" title="function clearSingleAxis(axh)">clearSingleAxis</a>(ax);
0369     hold(ax,<span class="string">'on'</span>);
0370     set(gui.cm_handles.axes_psd_view,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0371     
0372     <span class="comment">% x-axis label</span>
0373     <span class="keyword">switch</span> data.process.timescale
0374         <span class="keyword">case</span> <span class="string">'s'</span>
0375             xlstring = <span class="string">'equiv. pore size [m]'</span>;
0376         <span class="keyword">case</span> <span class="string">'ms'</span>
0377             xlstring = <span class="string">'equiv. pore size [mm]'</span>;
0378     <span class="keyword">end</span>
0379     
0380     rho = data.param.rho/1e6; <span class="comment">% surface relaxivity [m/s]</span>
0381     a = data.param.a; <span class="comment">% geometry parameter</span>
0382     
0383     <span class="keyword">switch</span> data.invstd.invtype
0384         <span class="keyword">case</span> <span class="string">'mono'</span>
0385             <span class="keyword">switch</span> nmrproc.T1T2
0386                 <span class="keyword">case</span> <span class="string">'T1'</span>
0387                     T = invstd.T1;
0388                 <span class="keyword">case</span> <span class="string">'T2'</span>
0389                     T = invstd.T2;
0390             <span class="keyword">end</span>
0391             
0392             stem(T.*rho.*a,invstd.E0,<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0393             
0394             <span class="comment">% limits</span>
0395             ticks = floor(log10(min(T.*rho.*a)))-2 :1: ceil(log10(max(T.*rho.*a)))+2;
0396             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[10^(ticks(1)) 10^(ticks(end))],<span class="string">'XTick'</span>,10.^ticks);
0397             set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 invstd.E0*1.05]);
0398             <span class="comment">% labels</span>
0399             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0400             set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,<span class="string">'initial amplitude E0'</span>);
0401             <span class="comment">% grid</span>
0402             grid(ax,<span class="string">'on'</span>);
0403             
0404         <span class="keyword">case</span> <span class="string">'free'</span>
0405             mymark = {<span class="string">'o-'</span>,<span class="string">'+-'</span>,<span class="string">'s-'</span>,<span class="string">'d-'</span>,<span class="string">'x-'</span>};
0406             mycols = [0.8941 0.1020 0.1098;0.3020 0.6863 0.2902;
0407                 0.2157 0.4941 0.7216;0.5961 0.3059 0.6392;0.6510 0.3373 0.1569];
0408             <span class="keyword">switch</span> nmrproc.T1T2
0409                 <span class="keyword">case</span> <span class="string">'T1'</span>
0410                     T = invstd.T1;
0411                 <span class="keyword">case</span> <span class="string">'T2'</span>
0412                     T = invstd.T2;
0413             <span class="keyword">end</span>
0414             
0415             lgdstr = cell(1,1);
0416             <span class="keyword">for</span> i = 1:data.invstd.freeDT
0417                 stem(T(i).*rho.*a,invstd.E0(i),mymark{i},<span class="string">'Color'</span>,mycols(i,:),<span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0418                 lgdstr{i} = [<span class="string">'T'</span>,num2str(i)];
0419             <span class="keyword">end</span>
0420             
0421             <span class="comment">% limits</span>
0422             ticks = floor(log10(min(T.*rho.*a)))-2 :1: ceil(log10(max(T.*rho.*a)))+2;
0423             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[10^(ticks(1)) 10^(ticks(end))],<span class="string">'XTick'</span>,10.^ticks);
0424             set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 max(invstd.E0)*1.05]);
0425             <span class="comment">% labels</span>
0426             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0427             set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,<span class="string">'individual amplitudes Ex [-]'</span>);
0428             <span class="comment">% grid</span>
0429             grid(ax,<span class="string">'on'</span>);
0430             
0431         <span class="keyword">case</span> {<span class="string">'LU'</span>,<span class="string">'NNLS'</span>}
0432             <span class="comment">% very basic RTD to PSD conversion</span>
0433             requiv = invstd.T1T2me.*rho.*a;
0434             Rlgm = invstd.Tlgm.*rho.*a;
0435             
0436             <span class="keyword">switch</span> data.info.PSDflag
0437                 <span class="keyword">case</span> <span class="string">'freq'</span>
0438                     plot(requiv,F,<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0439                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0440                     <span class="comment">% find approx. RLGM amplitude</span>
0441                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(requiv,F,Rlgm);
0442                     stem(Rlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0443                     
0444                     <span class="comment">% y-limits</span>
0445                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,ylims);
0446                     <span class="comment">% y-label</span>
0447                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab1);
0448                     
0449                 <span class="keyword">case</span> <span class="string">'cum'</span>
0450                     plot(requiv,cumsum(F),<span class="string">'o-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0451                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0452                     <span class="comment">% find approx. RLGM amplitude</span>
0453                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(requiv,cumsum(F),Rlgm);
0454                     stem(Rlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0455                     
0456                     <span class="comment">% y-limits</span>
0457                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 sum(F)*1.05]);
0458                     <span class="comment">% y-label</span>
0459                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab2);
0460             <span class="keyword">end</span>
0461             
0462             <span class="comment">% x-limits</span>
0463             ticks = floor(log10(min(requiv))) :1: ceil(log10(max(requiv)));
0464             <span class="comment">%         set(ax,'XScale','log','XLim',[10^(ticks(1)) 10^(ticks(end))],'XTick',10.^ticks);</span>
0465             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[min(requiv) max(requiv)],<span class="string">'XTick'</span>,10.^ticks);
0466             <span class="comment">% x-label</span>
0467             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0468             <span class="comment">% grid</span>
0469             grid(ax,<span class="string">'on'</span>);
0470             
0471         <span class="keyword">case</span> {<span class="string">'MUMO'</span>}
0472             <span class="comment">% very basic RTD to PSD conversion</span>
0473             requiv = invstd.T1T2me.*rho.*a;
0474             Rlgm = invstd.Tlgm.*rho.*a;
0475             
0476             <span class="keyword">switch</span> data.info.PSDflag
0477                 <span class="keyword">case</span> <span class="string">'freq'</span>
0478                     <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0479                         verts = [requiv f_min'; flipud(requiv) flipud(f_max')];
0480                         patch(<span class="string">'Faces'</span>,faces,<span class="string">'Vertices'</span>,verts,<span class="string">'FaceColor'</span>,[0.64 0.64 0.64],<span class="keyword">...</span>
0481                             <span class="string">'FaceAlpha'</span>,0.75,<span class="string">'EdgeColor'</span>,<span class="string">'none'</span>,<span class="string">'Parent'</span>,ax);
0482                         <span class="comment">% adjust y-limits</span>
0483                         ylims(2) = max([ylims(2) max(f_max)*1.05]);
0484                     <span class="keyword">end</span>
0485                     plot(requiv,F,<span class="string">'-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0486                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0487                     <span class="keyword">for</span> i = 1:length(invstd.x)/3
0488                         plot(requiv,dist(i,:),<span class="string">'--'</span>,<span class="string">'Color'</span>,mycols(i,:),<span class="keyword">...</span>
0489                             <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0490                     <span class="keyword">end</span>                    
0491                     <span class="comment">% find approx. RLGM amplitude</span>
0492                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(requiv,F,Rlgm);
0493                     stem(Rlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0494                     
0495                     <span class="comment">% y-limits</span>
0496                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,ylims);
0497                     <span class="comment">% y-label</span>
0498                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab1);
0499                     
0500                 <span class="keyword">case</span> <span class="string">'cum'</span>
0501                     <span class="keyword">if</span> isfield(data.results.invstd,<span class="string">'uncert'</span>)
0502                         verts = [requiv cumsum(F)-f_min'; flipud(requiv) flipud(cumsum(F)+f_max')];
0503                         patch(<span class="string">'Faces'</span>,faces,<span class="string">'Vertices'</span>,verts,<span class="string">'FaceColor'</span>,[0.64 0.64 0.64],<span class="keyword">...</span>
0504                             <span class="string">'FaceAlpha'</span>,0.75,<span class="string">'EdgeColor'</span>,<span class="string">'none'</span>,<span class="string">'Parent'</span>,ax);
0505                     <span class="keyword">end</span>
0506                     plot(requiv,cumsum(F),<span class="string">'-'</span>,<span class="string">'Color'</span>,col.FIT,<span class="keyword">...</span>
0507                         <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0508                     <span class="keyword">for</span> i = 1:length(invstd.x)/3
0509                         plot(requiv,cumsum(dist(i,:)),<span class="string">'--'</span>,<span class="string">'Color'</span>,mycols(i,:),<span class="keyword">...</span>
0510                             <span class="string">'LineWidth'</span>,2,<span class="string">'Parent'</span>,ax);
0511                     <span class="keyword">end</span>                    
0512                     <span class="comment">% find approx. RLGM amplitude</span>
0513                     amp = <a href="#_sub1" class="code" title="subfunction amp = findApproxTlgmAmplitude(t,f,TLGM)">findApproxTlgmAmplitude</a>(requiv,cumsum(F),Rlgm);
0514                     stem(Rlgm,amp,<span class="string">'x-'</span>,<span class="string">'Color'</span>,col.axisL,<span class="string">'LineWidth'</span>,2,<span class="string">'Tag'</span>,<span class="string">'TLGM'</span>,<span class="string">'Parent'</span>,ax);
0515                     
0516                     <span class="comment">% y-limits</span>
0517                     set(ax,<span class="string">'YScale'</span>,<span class="string">'lin'</span>,<span class="string">'YLim'</span>,[0 sum(F)*1.05]);
0518                     <span class="comment">% y-label</span>
0519                     set(get(ax,<span class="string">'YLabel'</span>),<span class="string">'String'</span>,ylab2);
0520             <span class="keyword">end</span>
0521             
0522             <span class="comment">% x-limits</span>
0523             ticks = floor(log10(min(requiv))) :1: ceil(log10(max(requiv)));
0524             <span class="comment">%         set(ax,'XScale','log','XLim',[10^(ticks(1)) 10^(ticks(end))],'XTick',10.^ticks);</span>
0525             set(ax,<span class="string">'XScale'</span>,<span class="string">'log'</span>,<span class="string">'XLim'</span>,[min(requiv) max(requiv)],<span class="string">'XTick'</span>,10.^ticks);
0526             <span class="comment">% x-label</span>
0527             set(get(ax,<span class="string">'XLabel'</span>),<span class="string">'String'</span>,xlstring);
0528             <span class="comment">% grid</span>
0529             grid(ax,<span class="string">'on'</span>);
0530     <span class="keyword">end</span>
0531     
0532     <span class="comment">% show CBW and diffusion regime lines</span>
0533     <a href="updatePlotsDistributionInfo.html" class="code" title="function updatePlotsDistributionInfo">updatePlotsDistributionInfo</a>;
0534 <span class="keyword">end</span>
0535 
0536 <span class="keyword">end</span>
0537 
0538 <span class="comment">%%</span>
0539 <a name="_sub1" href="#_subfunctions" class="code">function amp = findApproxTlgmAmplitude(t,f,TLGM)</a>
0540 
0541 <span class="keyword">if</span> isnan(TLGM)
0542     amp = NaN;
0543 <span class="keyword">else</span>
0544     index = find(abs(t-TLGM)==min(abs(t-TLGM)));
0545     amp = interp1(t(index-1:index+1),f(index-1:index+1),TLGM);
0546 <span class="keyword">end</span>
0547 
0548 <span class="keyword">end</span>
0549 
0550 <span class="comment">%------------- END OF CODE --------------</span>
0551 
0552 <span class="comment">%% License:</span>
0553 <span class="comment">% MIT License</span>
0554 <span class="comment">%</span>
0555 <span class="comment">% Copyright (c) 2018 Thomas Hiller</span>
0556 <span class="comment">%</span>
0557 <span class="comment">% Permission is hereby granted, free of charge, to any person obtaining a copy</span>
0558 <span class="comment">% of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
0559 <span class="comment">% in the Software without restriction, including without limitation the rights</span>
0560 <span class="comment">% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
0561 <span class="comment">% copies of the Software, and to permit persons to whom the Software is</span>
0562 <span class="comment">% furnished to do so, subject to the following conditions:</span>
0563 <span class="comment">%</span>
0564 <span class="comment">% The above copyright notice and this permission notice shall be included in all</span>
0565 <span class="comment">% copies or substantial portions of the Software.</span>
0566 <span class="comment">%</span>
0567 <span class="comment">% THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
0568 <span class="comment">% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
0569 <span class="comment">% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
0570 <span class="comment">% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
0571 <span class="comment">% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
0572 <span class="comment">% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
0573 <span class="comment">% SOFTWARE.</span></pre></div>
<hr><address>Generated by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>