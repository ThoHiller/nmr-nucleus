<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of NUCLEUSinv_updateInterface</title>
  <meta name="keywords" content="NUCLEUSinv_updateInterface">
  <meta name="description" content=" updates all GUI elements">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- # nucleus --><!-- menu.html NUCLEUSinv -->
<h1>NUCLEUSinv_updateInterface
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong> updates all GUI elements</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function NUCLEUSinv_updateInterface </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">NUCLEUSinv_updateInterface updates all GUI elements

 Syntax:
       NUCLEUSinv_updateInterface

 Inputs:
       none

 Outputs:
       none

 Example:
       NUCLEUSinv_updateInterface

 Other m-files required:
       none

 Subfunctions:
       updateGatetype
       updateNormalize
       updateTimescale
       updateInvstdTime
       updateInvjointRadii
       updateLambda
       updateLambdaJoint
       updateLorder
       updateLorderJoint
       updateParams

 MAT-files required:
       none

 See also: <a href="NUCLEUSinv.html" class="code" title="function NUCLEUSinv">NUCLEUSinv</a>
 Author: see AUTHORS.md
 email: see AUTHORS.md
 License: MIT License (at end)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../nucleus/callbacks/edits/onEditValue.html" class="code" title="function onEditValue(src,~)">onEditValue</a>	 updates all edit field values, checks for wrong inputs and</li><li><a href="../../nucleus/callbacks/listboxes/onListboxData.html" class="code" title="function onListboxData(src,~)">onListboxData</a>	 handles the calls from the context menu of the data</li><li><a href="../../nucleus/callbacks/menus/onMenuExpert.html" class="code" title="function onMenuExpert(src,~)">onMenuExpert</a>	 handles the call from the menu that activates / deactivates</li><li><a href="../../nucleus/callbacks/menus/onMenuExtraEchoFlag.html" class="code" title="function onMenuExtraEchoFlag(src,~)">onMenuExtraEchoFlag</a>	 handles the call from the menu that swicth the "EchoFlag"</li><li><a href="../../nucleus/callbacks/menus/onMenuJointInversion.html" class="code" title="function onMenuJointInversion(src,~)">onMenuJointInversion</a>	 handles the call from the menu that activates / deactivates</li><li><a href="../../nucleus/callbacks/menus/onMenuSolver.html" class="code" title="function onMenuSolver(src,~)">onMenuSolver</a>	 handles the call from the menu that allows to choose the LSQ</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointGeometryType.html" class="code" title="function onPopupInvjointGeometryType(src,~)">onPopupInvjointGeometryType</a>	 selects the joint inversion geometry (dependent</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointPolyN.html" class="code" title="function onPopupInvjointPolyN(src,~)">onPopupInvjointPolyN</a>	 handles the call from the popup menu to select the</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointType.html" class="code" title="function onPopupInvjointType(src,~)">onPopupInvjointType</a>	 selects the joint inversion method ("free", "fixed" or</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointTypeOptional.html" class="code" title="function onPopupInvjointTypeOptional(src,~)">onPopupInvjointTypeOptional</a>	 select regularization option for the joint</li><li><a href="../../nucleus/callbacks/popup/onPopupInvstdType.html" class="code" title="function onPopupInvstdType(src,~)">onPopupInvstdType</a>	 selects the inversion method for the standard inversion</li><li><a href="../../nucleus/callbacks/popup/onPopupInvstdTypeOptional.html" class="code" title="function onPopupInvstdTypeOptional(src,~)">onPopupInvstdTypeOptional</a>	 select regularization option for the standard</li><li><a href="../../nucleus/callbacks/popup/onPopupPressureUnits.html" class="code" title="function onPopupPressureUnits(src,~)">onPopupPressureUnits</a>	 select pressure unit ("Pa", "kPa", "MPa" or "bar")</li><li><a href="../../nucleus/callbacks/radio/onRadioGates.html" class="code" title="function onRadioGates(src,~)">onRadioGates</a>	 selects the re-sampling / gating method ("log", "lin" or "none")</li><li><a href="../../nucleus/callbacks/radio/onRadioLorder.html" class="code" title="function onRadioLorder(src,~)">onRadioLorder</a>	 selects the smoothness constraint for the multi-exponential</li><li><a href="../../nucleus/callbacks/radio/onRadioNormalize.html" class="code" title="function onRadioNormalize(src,~)">onRadioNormalize</a>	 selects whether to normalize a NMR signal to 1</li><li><a href="../../nucleus/callbacks/radio/onRadioTimescale.html" class="code" title="function onRadioTimescale(src,~)">onRadioTimescale</a>	 selects whether the time scale should be "s" or "ms"</li><li><a href="../../nucleus/functions/interface/calibratePorosity.html" class="code" title="function calibratePorosity">calibratePorosity</a>	 determines a sample's porosity from a calibration</li><li><a href="../../nucleus/functions/interface/clearInversion.html" class="code" title="function clearInversion(id)">clearInversion</a>	 removes inversion results from the internal data structure</li><li><a href="../../nucleus/functions/interface/importASCIIdata.html" class="code" title="function importASCIIdata(src)">importASCIIdata</a>	 imports NMR data from ASCII files</li><li><a href="../../nucleus/functions/interface/importCPSdata.html" class="code" title="function importCPSdata">importCPSdata</a>	 imports CPS data from an ASCII dat-file. See the "examples"</li><li><a href="../../nucleus/functions/interface/importCalibrationData.html" class="code" title="function importCalibrationData">importCalibrationData</a>	</li><li><a href="../../nucleus/functions/interface/importEXCELdata.html" class="code" title="function importEXCELdata(src)">importEXCELdata</a>	 imports NMR data from Excel files</li><li><a href="../../nucleus/functions/interface/importINV2INV.html" class="code" title="function importINV2INV(src)">importINV2INV</a>	 imports a previously saved NUCLEUSinv session</li><li><a href="../../nucleus/functions/interface/importMOD2D2INV.html" class="code" title="function importMOD2D2INV(src)">importMOD2D2INV</a>	 imports data directly from the NUCLEUSmod 2D GUI</li><li><a href="../../nucleus/functions/interface/importMOD2INV.html" class="code" title="function importMOD2INV(src)">importMOD2INV</a>	 imports data directly from the NUCLEUSmod GUI or and</li><li><a href="../../nucleus/functions/interface/importNMRdata.html" class="code" title="function importNMRdata(src)">importNMRdata</a>	 is the general import routine for NMR data</li><li><a href="../../nucleus/functions/interface/removeSignalFromList.html" class="code" title="function removeSignalFromList(id)">removeSignalFromList</a>	 removes the chosen NMR signal from the GUI</li><li><a href="../../nucleus/functions/interface/runInversionStd.html" class="code" title="function runInversionStd">runInversionStd</a>	 controls the standard inversion process to invert a</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function gui = updateGatetype(gui,gatetype)</a></li><li><a href="#_sub2" class="code">function gui = updateNormalize(gui,norm)</a></li><li><a href="#_sub3" class="code">function gui = updateTimescale(gui,timescale)</a></li><li><a href="#_sub4" class="code">function gui = updateInvstdTime(gui,invtype,time,Ntime)</a></li><li><a href="#_sub5" class="code">function gui = updateInvjointRadii(gui,invtype,radii,Nradii)</a></li><li><a href="#_sub6" class="code">function gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)</a></li><li><a href="#_sub7" class="code">function gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)</a></li><li><a href="#_sub8" class="code">function gui = updateLorder(gui,invtype,Lorder)</a></li><li><a href="#_sub9" class="code">function gui = updateLorderJoint(gui,invtype,Lorder)</a></li><li><a href="#_sub10" class="code">function gui = updateParams(gui,invtype,p)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function NUCLEUSinv_updateInterface</a>
0002 <span class="comment">%NUCLEUSinv_updateInterface updates all GUI elements</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% Syntax:</span>
0005 <span class="comment">%       NUCLEUSinv_updateInterface</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% Inputs:</span>
0008 <span class="comment">%       none</span>
0009 <span class="comment">%</span>
0010 <span class="comment">% Outputs:</span>
0011 <span class="comment">%       none</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% Example:</span>
0014 <span class="comment">%       NUCLEUSinv_updateInterface</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% Other m-files required:</span>
0017 <span class="comment">%       none</span>
0018 <span class="comment">%</span>
0019 <span class="comment">% Subfunctions:</span>
0020 <span class="comment">%       updateGatetype</span>
0021 <span class="comment">%       updateNormalize</span>
0022 <span class="comment">%       updateTimescale</span>
0023 <span class="comment">%       updateInvstdTime</span>
0024 <span class="comment">%       updateInvjointRadii</span>
0025 <span class="comment">%       updateLambda</span>
0026 <span class="comment">%       updateLambdaJoint</span>
0027 <span class="comment">%       updateLorder</span>
0028 <span class="comment">%       updateLorderJoint</span>
0029 <span class="comment">%       updateParams</span>
0030 <span class="comment">%</span>
0031 <span class="comment">% MAT-files required:</span>
0032 <span class="comment">%       none</span>
0033 <span class="comment">%</span>
0034 <span class="comment">% See also: NUCLEUSinv</span>
0035 <span class="comment">% Author: see AUTHORS.md</span>
0036 <span class="comment">% email: see AUTHORS.md</span>
0037 <span class="comment">% License: MIT License (at end)</span>
0038 
0039 <span class="comment">%------------- BEGIN CODE --------------</span>
0040 
0041 <span class="comment">%% get GUI handle and data</span>
0042 fig = findobj(<span class="string">'Tag'</span>,<span class="string">'INV'</span>);
0043 gui = getappdata(fig,<span class="string">'gui'</span>);
0044 data = getappdata(fig,<span class="string">'data'</span>);
0045 
0046 <span class="keyword">switch</span> data.info.ExpertMode
0047     <span class="keyword">case</span> <span class="string">'on'</span>
0048         <span class="comment">%% update the processing panel</span>
0049         set(gui.edit_handles.process_start,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0050             <span class="string">'String'</span>,num2str(data.process.start));
0051         set(gui.edit_handles.process_end,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0052             <span class="string">'String'</span>,num2str(data.process.end));
0053         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0054             <span class="string">'String'</span>,num2str(data.process.Nechoes));
0055         
0056         gui = <a href="#_sub1" class="code" title="subfunction gui = updateGatetype(gui,gatetype)">updateGatetype</a>(gui,data.process.gatetype);
0057         gui = <a href="#_sub2" class="code" title="subfunction gui = updateNormalize(gui,norm)">updateNormalize</a>(gui,data.process.norm);
0058         gui = <a href="#_sub3" class="code" title="subfunction gui = updateTimescale(gui,timescale)">updateTimescale</a>(gui,data.process.timescale);
0059         <span class="keyword">if</span> data.invstd.porosity &lt;= 1
0060             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0061                 <span class="string">'BackgroundColor'</span>,gui.myui.colors.editBG,<span class="keyword">...</span>
0062                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0063         <span class="keyword">else</span>
0064             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0065                 <span class="string">'BackgroundColor'</span>,<span class="string">'r'</span>,<span class="keyword">...</span>
0066                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0067         <span class="keyword">end</span>
0068         
0069         <span class="comment">%% update standard inversion panel</span>
0070         <span class="comment">% inversion method popup</span>
0071         istring = {<span class="string">'Mono exp.'</span>,<span class="string">'Several free exp. (2-5)'</span>,<span class="keyword">...</span>
0072             <span class="string">'Multi exp. (LSQ)'</span>,<span class="string">'Multi exp. (LU decomp.)'</span>,<span class="string">'Multi modal'</span>};
0073         set(gui.popup_handles.invstd_InvType,<span class="string">'String'</span>,istring);
0074         <span class="keyword">switch</span> data.invstd.invtype
0075             <span class="keyword">case</span> <span class="string">'mono'</span>
0076                 <span class="comment">% inversion method popup</span>
0077                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0078                 
0079                 <span class="comment">% additional inversion settings</span>
0080                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0081                     <span class="string">'Value'</span>,1,<span class="string">'String'</span>,<span class="string">'none'</span>);
0082                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0083                     <span class="string">'String'</span>,<span class="string">'No extra options'</span>);
0084                 
0085                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0086                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0087                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0088                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0089 
0090                 <span class="comment">% RTD uncertainty</span>
0091                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0092                     <span class="string">'String'</span>,num2str(data.uncert.N));
0093                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0094                 
0095                 <span class="comment">% Tbulk &amp; Tdiff</span>
0096                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0097                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0098                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0099                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0100                 
0101             <span class="keyword">case</span> <span class="string">'free'</span>
0102                 <span class="comment">% inversion method popup</span>
0103                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0104                 
0105                 <span class="comment">% additional inversion settings</span>
0106                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0107                     <span class="string">'Value'</span>,data.invstd.freeDT,<span class="keyword">...</span>
0108                     <span class="string">'String'</span>,{<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>});
0109                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0110                     <span class="string">'String'</span>,<span class="string">'No. of free relaxation times T'</span>);
0111                 
0112                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0113                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0114                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0115                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0116 
0117                 <span class="comment">% RTD uncertainty</span>
0118                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0119                     <span class="string">'String'</span>,num2str(data.uncert.N));
0120                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0121                 
0122                 <span class="comment">% Tbulk &amp; Tdiff</span>
0123                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0124                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0125                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0126                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0127                 
0128             <span class="keyword">case</span> <span class="string">'NNLS'</span>
0129                 <span class="comment">% inversion method popup</span>
0130                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0131                 
0132                 <span class="comment">% additional inversion settings</span>
0133                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0134                     <span class="string">'String'</span>,{<span class="string">'Manual'</span>,<span class="string">'Tikhonov (SVD)'</span>,<span class="string">'TSVD (SVD)'</span>,<span class="keyword">...</span>
0135                     <span class="string">'DSVD (SVD)'</span>,<span class="string">'Discrep. (SVD)'</span>,<span class="string">'L-curve'</span>});
0136                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0137                     <span class="string">'String'</span>,<span class="string">'regularization options'</span>);
0138                 
0139                 <span class="comment">% regularization options</span>
0140                 <span class="keyword">switch</span> data.invstd.regtype
0141                     <span class="keyword">case</span> <span class="string">'manual'</span>
0142                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,1);   
0143                     <span class="keyword">case</span> <span class="string">'gcv_tikh'</span>
0144                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,2);
0145                     <span class="keyword">case</span> <span class="string">'gcv_trunc'</span>
0146                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,3);
0147                     <span class="keyword">case</span> <span class="string">'gcv_damp'</span>
0148                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,4);
0149                     <span class="keyword">case</span> <span class="string">'discrep'</span>
0150                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,5);
0151                     <span class="keyword">case</span> <span class="string">'lcurve'</span>
0152                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,6);
0153                 <span class="keyword">end</span>
0154                 
0155                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0156                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,data.invstd.lambda,<span class="keyword">...</span>
0157                     data.invstd.lambdaR,data.invstd.NlambdaR);
0158                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0159                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,data.invstd.time,<span class="keyword">...</span>
0160                     data.invstd.Ntime);
0161 
0162                 <span class="comment">% RTD uncertainty</span>
0163                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0164                     <span class="string">'String'</span>,num2str(data.uncert.N));
0165                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0166 
0167                 <span class="comment">% Tbulk &amp; Tdiff</span>
0168                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0169                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0170                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0171                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0172                 
0173             <span class="keyword">case</span> <span class="string">'LU'</span>
0174                 <span class="comment">% inversion method popup</span>
0175                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,4,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0176                 
0177                 <span class="comment">% additional inversion settings</span>
0178                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0179                     <span class="string">'String'</span>,{<span class="string">'Manual'</span>,<span class="string">'Automatic'</span>});
0180                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0181                     <span class="string">'String'</span>,<span class="string">'regularization options'</span>);
0182                 
0183                 <span class="comment">% regularization options</span>
0184                 <span class="keyword">switch</span> data.invstd.regtype
0185                     <span class="keyword">case</span> <span class="string">'manual'</span>
0186                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,1);
0187                     <span class="keyword">case</span> <span class="string">'auto'</span>
0188                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,2);
0189                         data.invstd.lambda = -1;
0190                 <span class="keyword">end</span>
0191                 
0192                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0193                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,data.invstd.lambda,<span class="keyword">...</span>
0194                     data.invstd.lambdaR,data.invstd.NlambdaR);
0195                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0196                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,data.invstd.time,<span class="keyword">...</span>
0197                     data.invstd.Ntime);
0198 
0199                 <span class="comment">% RTD uncertainty</span>
0200                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0201                     <span class="string">'String'</span>,num2str(data.uncert.N));
0202                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0203                 
0204                 <span class="comment">% Tbulk &amp; Tdiff</span>
0205                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0206                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0207                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0208                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0209                 
0210             <span class="keyword">case</span> <span class="string">'MUMO'</span>
0211                 <span class="comment">% inversion method popup</span>
0212                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,5,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0213                 
0214                 <span class="comment">% additional inversion settings</span>
0215                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0216                     <span class="string">'Value'</span>,data.invstd.freeDT,<span class="keyword">...</span>
0217                     <span class="string">'String'</span>,{<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>});
0218                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0219                     <span class="string">'String'</span>,<span class="string">'No. of modes'</span>);
0220                 
0221 <span class="comment">%                 % lambda, smoothness constraint and RTD limits</span>
0222 <span class="comment">%                 gui = updateLambda(gui,data.invstd.regtype,data.invstd.lambda,...</span>
0223 <span class="comment">%                     data.invstd.lambdaR,data.invstd.NlambdaR);</span>
0224 <span class="comment">%                 gui = updateLorder(gui,data.invstd.invtype,data.invstd.Lorder);</span>
0225                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,data.invstd.time,<span class="keyword">...</span>
0226                     data.invstd.Ntime);
0227                 
0228                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0229                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0230                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0231 
0232                 <span class="comment">% RTD uncertainty</span>
0233                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0234                     <span class="string">'String'</span>,num2str(data.uncert.N));
0235                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0236                 
0237                 <span class="comment">% Tbulk &amp; Tdiff</span>
0238                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0239                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0240                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0241                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0242         <span class="keyword">end</span>
0243         
0244         <span class="comment">% updates CBW, BVI, rho and a</span>
0245         gui = <a href="#_sub10" class="code" title="subfunction gui = updateParams(gui,invtype,p)">updateParams</a>(gui,data.invstd.invtype,data.param);
0246         
0247         <span class="comment">%% update joint inversion panel</span>
0248         <span class="comment">% depending if it is activated or not</span>
0249         <span class="keyword">switch</span> data.info.JointInv
0250             <span class="keyword">case</span> <span class="string">'on'</span>
0251                 <span class="comment">% inversion method dependent</span>
0252                 <span class="keyword">switch</span> data.invjoint.invtype
0253                     <span class="keyword">case</span> <span class="string">'free'</span>
0254                         <span class="comment">% inversion method popup</span>
0255                         set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0256                         
0257                         <span class="comment">% PSD limits</span>
0258                         gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0259                             data.invjoint.radii,data.invjoint.Nradii);
0260                         
0261                         <span class="comment">% additional inversion settings</span>
0262                         set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0263                         
0264                         <span class="comment">% regularization options</span>
0265                         <span class="keyword">switch</span> data.invjoint.regtype
0266                             <span class="keyword">case</span> <span class="string">'manual'</span>
0267                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,1);
0268                             <span class="keyword">case</span> <span class="string">'lcurve'</span>
0269                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,2);
0270                         <span class="keyword">end</span>
0271                         
0272                         <span class="comment">% smoothness constraint and lambda</span>
0273                         gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0274                             data.invjoint.Lorder);
0275                         gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,data.invjoint.regtype,<span class="keyword">...</span>
0276                             data.invjoint.lambda,data.invjoint.lambdaR,<span class="keyword">...</span>
0277                             data.invjoint.NlambdaR,data.invstd.regtype);
0278                         
0279                         <span class="comment">% start values</span>
0280                         set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0281                         set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0282                         
0283                         <span class="comment">% geometry type dependent</span>
0284                         <span class="keyword">switch</span> data.invjoint.geometry_type
0285                             <span class="keyword">case</span> <span class="string">'cyl'</span>                                
0286                                 <span class="comment">% geometry popup</span>
0287                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0288                                     <span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0289                                 
0290                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0291                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0292                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0293                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0294                                 
0295                                 <span class="comment">% angles</span>
0296                                 set(gui.edit_handles.invjoint_alpha,<span class="string">'String'</span>,<span class="string">''</span>);
0297                                 set(gui.edit_handles.invjoint_beta,<span class="string">'String'</span>,<span class="string">''</span>);
0298                                 set(gui.edit_handles.invjoint_gamma,<span class="string">'String'</span>,<span class="string">''</span>);
0299                                 
0300                             <span class="keyword">case</span> <span class="string">'ang'</span>                                
0301                                 <span class="comment">% geometry popup</span>
0302                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0303                                     <span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0304                                 
0305                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0306                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0307                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0308                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0309                                 
0310                                 <span class="comment">% angles</span>
0311                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0312                                     <span class="string">'String'</span>,num2str(data.invjoint.alpha));
0313                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0314                                     <span class="string">'String'</span>,num2str(data.invjoint.beta));
0315                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0316                                     <span class="string">'String'</span>,num2str(data.invjoint.gamma));
0317                                 
0318                             <span class="keyword">case</span> <span class="string">'poly'</span>                                
0319                                 <span class="comment">% geometry popup</span>
0320                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0321                                     <span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0322                                 
0323                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0324                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0325                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0326                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0327                                 
0328                                 <span class="comment">% angles</span>
0329                                 polyangle = ((data.invjoint.polyN-2)/data.invjoint.polyN)*180;
0330                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0331                                     <span class="string">'String'</span>,<span class="string">''</span>);
0332                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0333                                     <span class="string">'String'</span>,num2str(polyangle));
0334                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0335                                     <span class="string">'String'</span>,<span class="string">''</span>);
0336                         <span class="keyword">end</span>
0337                         
0338                     <span class="keyword">case</span> <span class="string">'fixed'</span>
0339                         <span class="comment">% inversion method popup</span>
0340                         set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0341                         
0342                         <span class="comment">% PSD limits</span>
0343                         gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0344                             data.invjoint.radii,data.invjoint.Nradii);
0345                         
0346                         <span class="comment">% additional inversion settings</span>
0347                         set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0348                         
0349                         <span class="comment">% regularization options</span>
0350                         <span class="keyword">switch</span> data.invjoint.regtype
0351                             <span class="keyword">case</span> <span class="string">'manual'</span>
0352                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,1);
0353                             <span class="keyword">case</span> <span class="string">'lcurve'</span>
0354                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,2);
0355                         <span class="keyword">end</span>
0356                         
0357                         <span class="comment">% smoothness constraint and lambda</span>
0358                         gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0359                             data.invjoint.Lorder);
0360                         gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,<span class="string">'none'</span>,data.invjoint.lambda,<span class="keyword">...</span>
0361                             data.invjoint.lambdaR,data.invjoint.NlambdaR,<span class="keyword">...</span>
0362                             data.invstd.regtype);
0363                         
0364                         <span class="comment">% start values</span>
0365                         set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0366                         set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0367                         
0368                         <span class="comment">% geometry type dependent</span>
0369                         <span class="keyword">switch</span> data.invjoint.geometry_type
0370                             <span class="keyword">case</span> <span class="string">'cyl'</span>                                
0371                                 <span class="comment">% geometry popup</span>
0372                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0373                                     <span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0374                                 
0375                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0376                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0377                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0378                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0379                                 
0380                                 <span class="comment">% angles</span>
0381                                 set(gui.edit_handles.invjoint_alpha,<span class="string">'String'</span>,<span class="string">''</span>);
0382                                 set(gui.edit_handles.invjoint_beta,<span class="string">'String'</span>,<span class="string">''</span>);
0383                                 set(gui.edit_handles.invjoint_gamma,<span class="string">'String'</span>,<span class="string">''</span>);
0384                                 
0385                             <span class="keyword">case</span> <span class="string">'ang'</span>                                
0386                                 <span class="comment">% geometry popup</span>
0387                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0388                                     <span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0389                                 
0390                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0391                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0392                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0393                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0394                                 
0395                                 <span class="comment">% angles</span>
0396                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0397                                     <span class="string">'String'</span>,num2str(data.invjoint.alpha));
0398                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0399                                     <span class="string">'String'</span>,num2str(data.invjoint.beta));
0400                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0401                                     <span class="string">'String'</span>,num2str(data.invjoint.gamma));
0402                                 
0403                             <span class="keyword">case</span> <span class="string">'poly'</span>                                
0404                                 <span class="comment">% geometry popup</span>
0405                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0406                                     <span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0407                                 
0408                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0409                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0410                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0411                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0412                                 
0413                                 <span class="comment">% angles</span>
0414                                 polyangle = ((data.invjoint.polyN-2)/data.invjoint.polyN)*180;
0415                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0416                                     <span class="string">'String'</span>,<span class="string">''</span>);
0417                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0418                                     <span class="string">'String'</span>,num2str(polyangle));
0419                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0420                                     <span class="string">'String'</span>,<span class="string">''</span>);
0421                         <span class="keyword">end</span>
0422                         
0423                     <span class="keyword">case</span> <span class="string">'shape'</span>
0424                         <span class="comment">% inversion method popup</span>
0425                         set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0426                         
0427                         <span class="comment">% PSD limits</span>
0428                         gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0429                             data.invjoint.radii,data.invjoint.Nradii);
0430                         
0431                         <span class="comment">% additional inversion settings</span>
0432                         set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0433                         
0434                         <span class="comment">% regularization options</span>
0435                         <span class="keyword">switch</span> data.invjoint.regtype
0436                             <span class="keyword">case</span> <span class="string">'manual'</span>
0437                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,1);
0438                             <span class="keyword">case</span> <span class="string">'lcurve'</span>
0439                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,2);
0440                         <span class="keyword">end</span>
0441                         
0442                         <span class="comment">% smoothness constraint and lambda</span>
0443                         gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0444                             data.invjoint.Lorder);
0445                         gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,<span class="string">'none'</span>,data.invjoint.lambda,<span class="keyword">...</span>
0446                             data.invjoint.lambdaR,data.invjoint.NlambdaR,data.invstd.regtype);
0447                         
0448                         <span class="comment">% start values</span>
0449                         set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0450                         set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0451                         
0452                         <span class="comment">% geometry type dependent</span>
0453                         <span class="keyword">switch</span> data.invjoint.geometry_type
0454                             <span class="keyword">case</span> <span class="string">'cyl'</span>                                
0455                                 <span class="comment">% geometry popup</span>
0456                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0457                                     <span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0458                                 
0459                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0460                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0461                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0462                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0463                                 
0464                                 <span class="comment">% angles</span>
0465                                 set(gui.edit_handles.invjoint_alpha,<span class="string">'String'</span>,<span class="string">''</span>);
0466                                 set(gui.edit_handles.invjoint_beta,<span class="string">'String'</span>,<span class="string">''</span>);
0467                                 set(gui.edit_handles.invjoint_gamma,<span class="string">'String'</span>,<span class="string">''</span>);
0468                                 
0469                             <span class="keyword">case</span> <span class="string">'ang'</span>                                
0470                                 <span class="comment">% geometry popup</span>
0471                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0472                                     <span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0473                                 
0474                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0475                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0476                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0477                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0478                                 
0479                                 <span class="comment">% angles</span>
0480                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0481                                     <span class="string">'String'</span>,num2str(data.invjoint.alpha));
0482                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0483                                     <span class="string">'String'</span>,num2str(data.invjoint.beta));
0484                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0485                                     <span class="string">'String'</span>,num2str(data.invjoint.gamma));
0486                                 
0487                             <span class="keyword">case</span> <span class="string">'poly'</span>                                
0488                                 <span class="comment">% geometry popup</span>
0489                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0490                                     <span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0491                                 
0492                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0493                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0494                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0495                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0496                                 
0497                                 <span class="comment">% angles</span>
0498                                 polyangle = ((data.invjoint.polyN-2)/data.invjoint.polyN)*180;
0499                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0500                                     <span class="string">'String'</span>,<span class="string">''</span>);
0501                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0502                                     <span class="string">'String'</span>,num2str(polyangle));
0503                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0504                                     <span class="string">'String'</span>,<span class="string">''</span>);
0505                         <span class="keyword">end</span>
0506                 <span class="keyword">end</span>
0507 
0508             <span class="keyword">case</span> <span class="string">'off'</span>
0509                 <span class="comment">% inversion method popup</span>
0510                 set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0511                 
0512                 <span class="comment">% PSD limits</span>
0513                 gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,<span class="string">'off'</span>,0,0);
0514                 
0515                 <span class="comment">% additional inversion settings</span>
0516                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0517                 
0518                 <span class="comment">% smoothness constraint and lambda</span>
0519                 gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,<span class="string">'off'</span>,0);
0520                 gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,<span class="string">'none'</span>,data.invjoint.lambda,<span class="keyword">...</span>
0521                     data.invjoint.lambdaR,data.invjoint.NlambdaR,data.invstd.regtype);
0522                 
0523                 <span class="comment">% polygon sides and angles</span>
0524                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0525                 set(gui.edit_handles.invjoint_alpha,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0526                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0527                 set(gui.edit_handles.invjoint_gamma,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0528                 
0529                 <span class="comment">% start values</span>
0530                 set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0531                 set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0532         <span class="keyword">end</span>
0533         
0534         <span class="comment">% this is always updated</span>
0535         <span class="keyword">switch</span> data.pressure.unit
0536             <span class="keyword">case</span> <span class="string">'Pa'</span>
0537                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,1);
0538             <span class="keyword">case</span> <span class="string">'kPa'</span>
0539                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,2);
0540             <span class="keyword">case</span> <span class="string">'MPa'</span>
0541                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,3);
0542             <span class="keyword">case</span> <span class="string">'bar'</span>
0543                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,4);
0544         <span class="keyword">end</span>
0545         set(gui.table_handles.invjoint_table,<span class="keyword">...</span>
0546             <span class="string">'ColumnName'</span>,{<span class="string">'use'</span>,[<span class="string">'p ['</span>,data.pressure.unit,<span class="string">']'</span>],<span class="string">'S [-]'</span>,<span class="string">'D / I'</span>})
0547         
0548         table = data.pressure.table;
0549         <span class="keyword">for</span> i = 1:size(table,1)
0550             table{i,2} = table{i,2}.*data.pressure.unitfac;
0551         <span class="keyword">end</span>
0552         set(gui.table_handles.invjoint_table,<span class="string">'Data'</span>,table);
0553         
0554     <span class="keyword">case</span> <span class="string">'off'</span>
0555         <span class="comment">%% update the processing panel</span>
0556         set(gui.edit_handles.process_start,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0557             <span class="string">'String'</span>,num2str(data.process.start));
0558         set(gui.edit_handles.process_end,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0559             <span class="string">'String'</span>,num2str(data.process.end));
0560         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0561             <span class="string">'String'</span>,num2str(data.process.Nechoes));
0562         
0563         gui = <a href="#_sub1" class="code" title="subfunction gui = updateGatetype(gui,gatetype)">updateGatetype</a>(gui,data.process.gatetype);        
0564         set(gui.radio_handles.process_normalize_on,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,0);
0565         set(gui.radio_handles.process_normalize_off,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,1);
0566         set(gui.radio_handles.process_timescale_s,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,1);
0567         set(gui.radio_handles.process_timescale_ms,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,0);
0568         
0569         <span class="keyword">if</span> data.invstd.porosity &lt;= 1
0570             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0571                 <span class="string">'BackgroundColor'</span>,<span class="string">'w'</span>,<span class="keyword">...</span>
0572                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0573         <span class="keyword">else</span>
0574             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0575                 <span class="string">'BackgroundColor'</span>,<span class="string">'r'</span>,<span class="keyword">...</span>
0576                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0577         <span class="keyword">end</span>
0578         
0579         <span class="comment">%% update standard inversion panel</span>
0580         <span class="comment">% inversion method popup</span>
0581         istring = {<span class="string">'Mono exp.'</span>,<span class="string">'Several free exp. (2-5)'</span>,<span class="string">'Multi exp. (LSQ)'</span>};        
0582         set(gui.popup_handles.invstd_InvType,<span class="string">'String'</span>,istring);
0583         <span class="keyword">switch</span> data.invstd.invtype
0584             <span class="keyword">case</span> <span class="string">'mono'</span>
0585                 <span class="comment">% inversion method popup</span>
0586                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0587                 
0588                 <span class="comment">% additional inversion settings</span>
0589                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0590                     <span class="string">'Value'</span>,1,<span class="string">'String'</span>,<span class="string">'none'</span>);
0591                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0592                     <span class="string">'String'</span>,<span class="string">'No extra options'</span>);
0593                 
0594                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0595                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0596                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0597                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0598 
0599                 <span class="comment">% RTD uncertainty</span>
0600                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0601                     <span class="string">'String'</span>,num2str(data.uncert.N));
0602                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0603                 
0604                 <span class="comment">% Tbulk &amp; Tdiff</span>
0605                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0606                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0607                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0608                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0609                 
0610             <span class="keyword">case</span> <span class="string">'free'</span>
0611                 <span class="comment">% inversion method popup</span>
0612                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0613                 
0614                 <span class="comment">% additional inversion settings</span>
0615                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0616                     <span class="string">'Value'</span>,data.invstd.freeDT,<span class="keyword">...</span>
0617                     <span class="string">'String'</span>,{<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>});
0618                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0619                     <span class="string">'String'</span>,<span class="string">'No. of free relaxation times T'</span>);
0620                 
0621                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0622                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0623                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0624                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0625 
0626                 <span class="comment">% RTD uncertainty</span>
0627                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0628                     <span class="string">'String'</span>,num2str(data.uncert.N));
0629                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0630                 
0631                 <span class="comment">% Tbulk &amp; Tdiff</span>
0632                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0633                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0634                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0635                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0636                 
0637             <span class="keyword">case</span> <span class="string">'NNLS'</span>
0638                 <span class="comment">% inversion method popup</span>
0639                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0640                 
0641                 <span class="comment">% additional inversion settings</span>
0642                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0643                     <span class="string">'String'</span>,{<span class="string">'Manual'</span>,<span class="string">'L-curve'</span>});
0644                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0645                     <span class="string">'String'</span>,<span class="string">'regularization options'</span>);
0646                 
0647                 <span class="comment">% regularization options</span>
0648                 <span class="keyword">switch</span> data.invstd.regtype
0649                     <span class="keyword">case</span> <span class="string">'manual'</span>
0650                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,1);    
0651                     <span class="keyword">case</span> <span class="string">'lcurve'</span>
0652                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,2);                    
0653                 <span class="keyword">end</span>
0654                 
0655                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0656                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,data.invstd.lambda,<span class="keyword">...</span>
0657                     data.invstd.lambdaR,data.invstd.NlambdaR);
0658                 data.invstd.Lorder = 1;
0659                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0660                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0661                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0662                 
0663                 set(gui.edit_handles.invstd_time_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0664                     <span class="string">'String'</span>,num2str(data.invstd.time(1)));
0665                 set(gui.edit_handles.invstd_time_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0666                     <span class="string">'String'</span>,num2str(data.invstd.time(2)));
0667                 set(gui.edit_handles.invstd_Ntime,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0668                     <span class="string">'String'</span>,num2str(data.invstd.Ntime));
0669 
0670                 <span class="comment">% RTD uncertainty</span>
0671                 set(gui.edit_handles.uncert_N,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0672                     <span class="string">'String'</span>,num2str(data.uncert.N));
0673                 set(gui.push_handles.uncert,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0674                 
0675                 <span class="comment">% Tbulk &amp; Tdiff</span>
0676                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0677                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0678                 set(gui.edit_handles.invstd_Tdiff,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0679                     <span class="string">'String'</span>,num2str(data.invstd.Tdiff));
0680         <span class="keyword">end</span>
0681         
0682         <span class="comment">%% update petro parameter panel</span>
0683         data.param.CBWcutoff = 3;
0684         data.param.BVIcutoff = 33;
0685         data.param.rho = 10;
0686         data.param.a = 2;
0687         setappdata(fig,<span class="string">'data'</span>,data);
0688         set(gui.edit_handles.param_CBW,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0689             <span class="string">'String'</span>,num2str(data.param.CBWcutoff));
0690         set(gui.edit_handles.param_BVI,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0691             <span class="string">'String'</span>,num2str(data.param.BVIcutoff));
0692         set(gui.edit_handles.param_rho,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0693             <span class="string">'String'</span>,num2str(data.param.rho));
0694         set(gui.edit_handles.param_geom,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0695             <span class="string">'String'</span>,num2str(data.param.a));
0696         set(gui.edit_handles.param_calibVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0697             <span class="string">'String'</span>,num2str(data.param.calibVol));
0698         set(gui.edit_handles.param_calibAmp,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0699             <span class="string">'String'</span>,num2str(data.param.calibAmp));
0700         set(gui.edit_handles.param_sampVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0701             <span class="string">'String'</span>,num2str(data.param.sampVol));
0702 <span class="keyword">end</span>
0703 
0704 <span class="comment">% Matlab needs some time</span>
0705 pause(0.001);
0706 
0707 <span class="keyword">end</span>
0708 
0709 <span class="comment">%% sub functions</span>
0710 <a name="_sub1" href="#_subfunctions" class="code">function gui = updateGatetype(gui,gatetype)</a>
0711 
0712 set(gui.radio_handles.process_gates_log,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0713 set(gui.radio_handles.process_gates_lin,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0714 set(gui.radio_handles.process_gates_none,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0715 
0716 <span class="keyword">switch</span> gatetype
0717     
0718     <span class="keyword">case</span> <span class="string">'log'</span>        
0719         set(gui.radio_handles.process_gates_log,<span class="string">'Value'</span>,1);
0720         set(gui.radio_handles.process_gates_lin,<span class="string">'Value'</span>,0);
0721         set(gui.radio_handles.process_gates_none,<span class="string">'Value'</span>,0);
0722         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0723         
0724     <span class="keyword">case</span> <span class="string">'lin'</span>        
0725         set(gui.radio_handles.process_gates_log,<span class="string">'Value'</span>,0);
0726         set(gui.radio_handles.process_gates_lin,<span class="string">'Value'</span>,1);
0727         set(gui.radio_handles.process_gates_none,<span class="string">'Value'</span>,0);
0728         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0729         
0730     <span class="keyword">case</span> <span class="string">'raw'</span>        
0731         set(gui.radio_handles.process_gates_log,<span class="string">'Value'</span>,0);
0732         set(gui.radio_handles.process_gates_lin,<span class="string">'Value'</span>,0);
0733         set(gui.radio_handles.process_gates_none,<span class="string">'Value'</span>,1);
0734         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0735         
0736 <span class="keyword">end</span>
0737 
0738 <span class="keyword">end</span>
0739 
0740 <a name="_sub2" href="#_subfunctions" class="code">function gui = updateNormalize(gui,norm)</a>
0741 
0742 <span class="keyword">switch</span> norm    
0743     <span class="keyword">case</span> 0        
0744         set(gui.radio_handles.process_normalize_on,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0745         set(gui.radio_handles.process_normalize_off,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0746         
0747     <span class="keyword">case</span> 1        
0748         set(gui.radio_handles.process_normalize_on,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0749         set(gui.radio_handles.process_normalize_off,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0750 <span class="keyword">end</span>
0751 
0752 <span class="keyword">end</span>
0753 
0754 <a name="_sub3" href="#_subfunctions" class="code">function gui = updateTimescale(gui,timescale)</a>
0755 
0756 <span class="keyword">switch</span> timescale
0757     
0758     <span class="keyword">case</span> <span class="string">'s'</span>        
0759         set(gui.radio_handles.process_timescale_s,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0760         set(gui.radio_handles.process_timescale_ms,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0761         set(gui.text_handles.invstd_RTDtimes,<span class="string">'String'</span>,<span class="string">'RTD - min [s] | max [s] | # / dec'</span>,<span class="keyword">...</span>
0762             <span class="string">'FontSize'</span>,10);
0763         set(gui.text_handles.petro_Tbulk,<span class="string">'String'</span>,<span class="string">'Tbulk [s]   |   Tdiff [s]'</span>);
0764         set(gui.text_handles.petro_rho,<span class="string">'String'</span>,[char(hex2dec(<span class="string">'03C1'</span>)),<span class="string">' [µm/s]   |   geom  '</span>]);
0765         
0766     <span class="keyword">case</span> <span class="string">'ms'</span>        
0767         set(gui.radio_handles.process_timescale_s,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0768         set(gui.radio_handles.process_timescale_ms,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0769         set(gui.text_handles.invstd_RTDtimes,<span class="string">'String'</span>,<span class="string">'RTD - min [ms] | max [ms] | # / dec'</span>,<span class="keyword">...</span>
0770             <span class="string">'FontSize'</span>,9);
0771         set(gui.text_handles.petro_Tbulk,<span class="string">'String'</span>,<span class="string">'Tbulk [ms]   |   Tdiff [ms]'</span>);
0772         set(gui.text_handles.petro_rho,<span class="string">'String'</span>,[char(hex2dec(<span class="string">'03C1'</span>)),<span class="string">' [µm/s]   |   geom  '</span>]);
0773 <span class="keyword">end</span>
0774 
0775 <span class="keyword">end</span>
0776 
0777 <a name="_sub4" href="#_subfunctions" class="code">function gui = updateInvstdTime(gui,invtype,time,Ntime)</a>
0778 
0779 <span class="keyword">switch</span> invtype
0780     
0781     <span class="keyword">case</span> {<span class="string">'mono'</span>,<span class="string">'free'</span>}        
0782         set(gui.edit_handles.invstd_time_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0783         set(gui.edit_handles.invstd_time_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0784         set(gui.edit_handles.invstd_Ntime,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0785         
0786     <span class="keyword">case</span> {<span class="string">'LU'</span>,<span class="string">'NNLS'</span>,<span class="string">'MUMO'</span>}        
0787         set(gui.edit_handles.invstd_time_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(time(1)));
0788         set(gui.edit_handles.invstd_time_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(time(2)));
0789         set(gui.edit_handles.invstd_Ntime,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(Ntime));   
0790 <span class="keyword">end</span>
0791 
0792 <span class="keyword">end</span>
0793 
0794 <a name="_sub5" href="#_subfunctions" class="code">function gui = updateInvjointRadii(gui,invtype,radii,Nradii)</a>
0795 
0796 <span class="keyword">switch</span> invtype    
0797     <span class="keyword">case</span> {<span class="string">'fixed'</span>,<span class="string">'shape'</span>,<span class="string">'off'</span>}        
0798         set(gui.edit_handles.invjoint_radii_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0799         set(gui.edit_handles.invjoint_radii_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0800         set(gui.edit_handles.invjoint_Nradii,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0801         
0802     <span class="keyword">case</span> {<span class="string">'free'</span>}        
0803         set(gui.edit_handles.invjoint_radii_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(radii(1)));
0804         set(gui.edit_handles.invjoint_radii_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(radii(2)));
0805         set(gui.edit_handles.invjoint_Nradii,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(Nradii));
0806 <span class="keyword">end</span>
0807 
0808 <span class="keyword">end</span>
0809 
0810 <a name="_sub6" href="#_subfunctions" class="code">function gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)</a>
0811 
0812 <span class="keyword">switch</span> regtype    
0813     <span class="keyword">case</span> <span class="string">'none'</span>        
0814         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0815         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0816         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0817         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0818         
0819     <span class="keyword">case</span> <span class="string">'manual'</span>        
0820         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambda));
0821         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0822         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0823         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0824         
0825     <span class="keyword">case</span> <span class="string">'auto'</span>        
0826         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(lambda));
0827         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0828         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0829         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0830         
0831     <span class="keyword">case</span> <span class="string">'lcurve'</span>        
0832         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(1)));
0833         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(2)));
0834         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(NlambdaR));
0835         gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'X²'</span>,<span class="string">'PSD (joint)'</span>};
0836         
0837     <span class="keyword">case</span> {<span class="string">'gcv_tikh'</span>,<span class="string">'gcv_trunc'</span>,<span class="string">'gcv_damp'</span>,<span class="string">'discrep'</span>}        
0838         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(lambda));
0839         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0840         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0841         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0842 <span class="keyword">end</span>
0843 
0844 <span class="keyword">end</span>
0845 
0846 <a name="_sub7" href="#_subfunctions" class="code">function gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)</a>
0847 
0848 <span class="keyword">switch</span> regtype    
0849     <span class="keyword">case</span> <span class="string">'none'</span>        
0850         <span class="keyword">switch</span> regtypestd            
0851             <span class="keyword">case</span> <span class="string">'lcurve'</span>                
0852                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0853                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0854                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0855                 gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'X²'</span>,<span class="string">'PSD (joint)'</span>};
0856 
0857             <span class="keyword">otherwise</span>                
0858                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0859                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0860                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0861                 gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0862         <span class="keyword">end</span>
0863         
0864     <span class="keyword">case</span> <span class="string">'manual'</span>        
0865         <span class="keyword">switch</span> regtypestd            
0866             <span class="keyword">case</span> <span class="string">'lcurve'</span>                
0867                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambda));
0868                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0869                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0870                 gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0871                 
0872             <span class="keyword">otherwise</span>                
0873                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambda));
0874                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0875                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0876                 gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0877         <span class="keyword">end</span>
0878         
0879     <span class="keyword">case</span> <span class="string">'lcurve'</span>        
0880         set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(1)));
0881         set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(2)));
0882         set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(NlambdaR));
0883         gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0884 <span class="keyword">end</span>
0885 
0886 <span class="keyword">end</span>
0887 
0888 <a name="_sub8" href="#_subfunctions" class="code">function gui = updateLorder(gui,invtype,Lorder)</a>
0889 
0890 <span class="keyword">switch</span> invtype
0891     <span class="keyword">case</span> {<span class="string">'mono'</span>,<span class="string">'free'</span>,<span class="string">'MUMO'</span>}
0892         set(gui.radio_handles.invstd_Lorder0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0893         set(gui.radio_handles.invstd_Lorder1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0894         set(gui.radio_handles.invstd_Lorder2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0895         
0896     <span class="keyword">case</span> {<span class="string">'LU'</span>,<span class="string">'NNLS'</span>}
0897         set(gui.radio_handles.invstd_Lorder0,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0898         set(gui.radio_handles.invstd_Lorder1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0899         set(gui.radio_handles.invstd_Lorder2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0900         
0901         <span class="keyword">switch</span> Lorder
0902             <span class="keyword">case</span> 0
0903                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,1);
0904                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,0);
0905                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,0);
0906                 
0907             <span class="keyword">case</span> 1
0908                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,0);
0909                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,1);
0910                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,0);
0911                 
0912             <span class="keyword">case</span> 2
0913                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,0);
0914                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,0);
0915                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,1);
0916         <span class="keyword">end</span>
0917 <span class="keyword">end</span>
0918 
0919 <span class="keyword">end</span>
0920 
0921 <a name="_sub9" href="#_subfunctions" class="code">function gui = updateLorderJoint(gui,invtype,Lorder)</a>
0922 
0923 <span class="keyword">switch</span> invtype
0924     <span class="keyword">case</span> {<span class="string">'fixed'</span>,<span class="string">'shape'</span>,<span class="string">'off'</span>}
0925         set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0926         set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0927         set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0928         
0929     <span class="keyword">case</span> <span class="string">'free'</span>
0930         set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0931         set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0932         set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0933         
0934         <span class="keyword">switch</span> Lorder
0935             <span class="keyword">case</span> 0
0936                 set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Value'</span>,1);
0937                 set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Value'</span>,0);
0938                 set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Value'</span>,0);
0939                 
0940             <span class="keyword">case</span> 1
0941                 set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Value'</span>,0);
0942                 set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Value'</span>,1);
0943                 set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Value'</span>,0);
0944                 
0945             <span class="keyword">case</span> 2
0946                 set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Value'</span>,0);
0947                 set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Value'</span>,0);
0948                 set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Value'</span>,1);
0949         <span class="keyword">end</span>
0950 <span class="keyword">end</span>
0951 
0952 <span class="keyword">end</span>
0953 
0954 <a name="_sub10" href="#_subfunctions" class="code">function gui = updateParams(gui,invtype,p)</a>
0955 
0956 <span class="keyword">switch</span> invtype
0957     <span class="keyword">case</span> {<span class="string">'mono'</span>,<span class="string">'free'</span>}
0958         set(gui.edit_handles.param_CBW,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(p.CBWcutoff));
0959         set(gui.edit_handles.param_BVI,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(p.BVIcutoff));
0960         set(gui.edit_handles.param_rho,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.rho));
0961         set(gui.edit_handles.param_geom,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.a));
0962         
0963     <span class="keyword">case</span> {<span class="string">'LU'</span>,<span class="string">'NNLS'</span>,<span class="string">'MUMO'</span>}
0964         set(gui.edit_handles.param_CBW,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.CBWcutoff));
0965         set(gui.edit_handles.param_BVI,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.BVIcutoff));
0966         set(gui.edit_handles.param_rho,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.rho));
0967         set(gui.edit_handles.param_geom,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.a));
0968         
0969 <span class="keyword">end</span>
0970 set(gui.edit_handles.param_calibVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.calibVol));
0971 set(gui.edit_handles.param_calibAmp,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.calibAmp));
0972 set(gui.edit_handles.param_sampVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.sampVol));
0973 
0974 <span class="keyword">end</span>
0975 
0976 <span class="comment">%------------- END OF CODE --------------</span>
0977 
0978 <span class="comment">%% License:</span>
0979 <span class="comment">% MIT License</span>
0980 <span class="comment">%</span>
0981 <span class="comment">% Copyright (c) 2018 Thomas Hiller</span>
0982 <span class="comment">%</span>
0983 <span class="comment">% Permission is hereby granted, free of charge, to any person obtaining a copy</span>
0984 <span class="comment">% of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
0985 <span class="comment">% in the Software without restriction, including without limitation the rights</span>
0986 <span class="comment">% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
0987 <span class="comment">% copies of the Software, and to permit persons to whom the Software is</span>
0988 <span class="comment">% furnished to do so, subject to the following conditions:</span>
0989 <span class="comment">%</span>
0990 <span class="comment">% The above copyright notice and this permission notice shall be included in all</span>
0991 <span class="comment">% copies or substantial portions of the Software.</span>
0992 <span class="comment">%</span>
0993 <span class="comment">% THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
0994 <span class="comment">% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
0995 <span class="comment">% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
0996 <span class="comment">% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
0997 <span class="comment">% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
0998 <span class="comment">% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
0999 <span class="comment">% SOFTWARE.</span></pre></div>
<hr><address>Generated by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>