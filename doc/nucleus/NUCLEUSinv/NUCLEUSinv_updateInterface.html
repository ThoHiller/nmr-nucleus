<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of NUCLEUSinv_updateInterface</title>
  <meta name="keywords" content="NUCLEUSinv_updateInterface">
  <meta name="description" content=" updates all GUI elements">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- # nucleus --><!-- menu.html NUCLEUSinv -->
<h1>NUCLEUSinv_updateInterface
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong> updates all GUI elements</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function NUCLEUSinv_updateInterface </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">NUCLEUSinv_updateInterface updates all GUI elements

 Syntax:
       NUCLEUSinv_updateInterface

 Inputs:
       none

 Outputs:
       none

 Example:
       NUCLEUSinv_updateInterface

 Other m-files required:
       none

 Subfunctions:
       updateGatetype
       updateNormalize
       updateTimescale
       updateInvstdTime
       updateInvjointRadii
       updateLambda
       updateLambdaJoint
       updateLorder
       updateLorderJoint
       updateParams

 MAT-files required:
       none

 See also: <a href="NUCLEUSinv.html" class="code" title="function NUCLEUSinv">NUCLEUSinv</a>
 Author: Thomas Hiller
 email: thomas.hiller[at]leibniz-liag.de
 License: MIT License (at end)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../nucleus/callbacks/edits/onEditValue.html" class="code" title="function onEditValue(src,~)">onEditValue</a>	 updates all edit field values, checks for wrong inputs and</li><li><a href="../../nucleus/callbacks/listboxes/onListboxData.html" class="code" title="function onListboxData(src,~)">onListboxData</a>	 handles the calls from the context menu of the data</li><li><a href="../../nucleus/callbacks/menus/onMenuExpert.html" class="code" title="function onMenuExpert(src,~)">onMenuExpert</a>	 handles the call from the menu that activates / deactivates</li><li><a href="../../nucleus/callbacks/menus/onMenuJointInversion.html" class="code" title="function onMenuJointInversion(src,~)">onMenuJointInversion</a>	 handles the call from the menu that activates / deactivates</li><li><a href="../../nucleus/callbacks/menus/onMenuSolver.html" class="code" title="function onMenuSolver(src,~)">onMenuSolver</a>	 handles the call from the menu that allows to choose the LSQ</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointGeometryType.html" class="code" title="function onPopupInvjointGeometryType(src,~)">onPopupInvjointGeometryType</a>	 selects the joint inversion geometry (dependent</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointPolyN.html" class="code" title="function onPopupInvjointPolyN(src,~)">onPopupInvjointPolyN</a>	 handles the call from the popup menu to select the</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointType.html" class="code" title="function onPopupInvjointType(src,~)">onPopupInvjointType</a>	 selects the joint inversion method ("free", "fixed" or</li><li><a href="../../nucleus/callbacks/popup/onPopupInvjointTypeOptional.html" class="code" title="function onPopupInvjointTypeOptional(src,~)">onPopupInvjointTypeOptional</a>	 select regularization option for the joint</li><li><a href="../../nucleus/callbacks/popup/onPopupInvstdType.html" class="code" title="function onPopupInvstdType(src,~)">onPopupInvstdType</a>	 selects the inversion method for the standard inversion</li><li><a href="../../nucleus/callbacks/popup/onPopupInvstdTypeOptional.html" class="code" title="function onPopupInvstdTypeOptional(src,~)">onPopupInvstdTypeOptional</a>	 select regularization option for the standard</li><li><a href="../../nucleus/callbacks/popup/onPopupPressureUnits.html" class="code" title="function onPopupPressureUnits(src,~)">onPopupPressureUnits</a>	 select pressure unit ("Pa", "kPa", "MPa" or "bar")</li><li><a href="../../nucleus/callbacks/radio/onRadioGates.html" class="code" title="function onRadioGates(src,~)">onRadioGates</a>	 selects the re-sampling / gating method ("log", "lin" or "none")</li><li><a href="../../nucleus/callbacks/radio/onRadioLorder.html" class="code" title="function onRadioLorder(src,~)">onRadioLorder</a>	 selects the smoothness constraint for the multi-exponential</li><li><a href="../../nucleus/callbacks/radio/onRadioNormalize.html" class="code" title="function onRadioNormalize(src,~)">onRadioNormalize</a>	 selects whether to normalize a NMR signal to 1</li><li><a href="../../nucleus/callbacks/radio/onRadioTimescale.html" class="code" title="function onRadioTimescale(src,~)">onRadioTimescale</a>	 selects whether the time scale should be "s" or "ms"</li><li><a href="../../nucleus/functions/interface/calibratePorosity.html" class="code" title="function calibratePorosity">calibratePorosity</a>	 determines a sample's porosity from a calibration</li><li><a href="../../nucleus/functions/interface/clearInversion.html" class="code" title="function clearInversion(id)">clearInversion</a>	 removes inversion results from the internal data structure</li><li><a href="../../nucleus/functions/interface/importASCIIdata.html" class="code" title="function importASCIIdata(src)">importASCIIdata</a>	 imports NMR data from ASCII files</li><li><a href="../../nucleus/functions/interface/importCPSdata.html" class="code" title="function importCPSdata">importCPSdata</a>	 imports CPS data from an ASCII dat-file. See the "examples"</li><li><a href="../../nucleus/functions/interface/importCalibrationData.html" class="code" title="function importCalibrationData">importCalibrationData</a>	</li><li><a href="../../nucleus/functions/interface/importEXCELdata.html" class="code" title="function importEXCELdata(src)">importEXCELdata</a>	 imports NMR data from Excel files</li><li><a href="../../nucleus/functions/interface/importINV2INV.html" class="code" title="function importINV2INV(src)">importINV2INV</a>	 imports a previously saved NUCLEUSinv session</li><li><a href="../../nucleus/functions/interface/importMOD2INV.html" class="code" title="function importMOD2INV(src)">importMOD2INV</a>	</li><li><a href="../../nucleus/functions/interface/importNMRdata.html" class="code" title="function importNMRdata(src)">importNMRdata</a>	 is the general import routine for NMR data</li><li><a href="../../nucleus/functions/interface/removeSignalFromList.html" class="code" title="function removeSignalFromList(id)">removeSignalFromList</a>	 removes the chosen NMR signal from the GUI</li><li><a href="../../nucleus/functions/interface/runInversionStd.html" class="code" title="function runInversionStd">runInversionStd</a>	 controls the standard inversion process to invert a</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function gui = updateGatetype(gui,gatetype)</a></li><li><a href="#_sub2" class="code">function gui = updateNormalize(gui,norm)</a></li><li><a href="#_sub3" class="code">function gui = updateTimescale(gui,timescale)</a></li><li><a href="#_sub4" class="code">function gui = updateInvstdTime(gui,invtype,time,Ntime)</a></li><li><a href="#_sub5" class="code">function gui = updateInvjointRadii(gui,invtype,radii,Nradii)</a></li><li><a href="#_sub6" class="code">function gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)</a></li><li><a href="#_sub7" class="code">function gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)</a></li><li><a href="#_sub8" class="code">function gui = updateLorder(gui,invtype,Lorder)</a></li><li><a href="#_sub9" class="code">function gui = updateLorderJoint(gui,invtype,Lorder)</a></li><li><a href="#_sub10" class="code">function gui = updateParams(gui,invtype,p)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function NUCLEUSinv_updateInterface</a>
0002 <span class="comment">%NUCLEUSinv_updateInterface updates all GUI elements</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% Syntax:</span>
0005 <span class="comment">%       NUCLEUSinv_updateInterface</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% Inputs:</span>
0008 <span class="comment">%       none</span>
0009 <span class="comment">%</span>
0010 <span class="comment">% Outputs:</span>
0011 <span class="comment">%       none</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% Example:</span>
0014 <span class="comment">%       NUCLEUSinv_updateInterface</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% Other m-files required:</span>
0017 <span class="comment">%       none</span>
0018 <span class="comment">%</span>
0019 <span class="comment">% Subfunctions:</span>
0020 <span class="comment">%       updateGatetype</span>
0021 <span class="comment">%       updateNormalize</span>
0022 <span class="comment">%       updateTimescale</span>
0023 <span class="comment">%       updateInvstdTime</span>
0024 <span class="comment">%       updateInvjointRadii</span>
0025 <span class="comment">%       updateLambda</span>
0026 <span class="comment">%       updateLambdaJoint</span>
0027 <span class="comment">%       updateLorder</span>
0028 <span class="comment">%       updateLorderJoint</span>
0029 <span class="comment">%       updateParams</span>
0030 <span class="comment">%</span>
0031 <span class="comment">% MAT-files required:</span>
0032 <span class="comment">%       none</span>
0033 <span class="comment">%</span>
0034 <span class="comment">% See also: NUCLEUSinv</span>
0035 <span class="comment">% Author: Thomas Hiller</span>
0036 <span class="comment">% email: thomas.hiller[at]leibniz-liag.de</span>
0037 <span class="comment">% License: MIT License (at end)</span>
0038 
0039 <span class="comment">%------------- BEGIN CODE --------------</span>
0040 
0041 <span class="comment">%% get GUI handle and data</span>
0042 fig = findobj(<span class="string">'Tag'</span>,<span class="string">'INV'</span>);
0043 gui = getappdata(fig,<span class="string">'gui'</span>);
0044 data = getappdata(fig,<span class="string">'data'</span>);
0045 
0046 <span class="keyword">switch</span> data.info.ExpertMode
0047     <span class="keyword">case</span> <span class="string">'on'</span>
0048         <span class="comment">%% update the processing panel</span>
0049         set(gui.edit_handles.process_start,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0050             <span class="string">'String'</span>,num2str(data.process.start));
0051         set(gui.edit_handles.process_end,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0052             <span class="string">'String'</span>,num2str(data.process.end));
0053         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0054             <span class="string">'String'</span>,num2str(data.process.Nechoes));
0055         
0056         gui = <a href="#_sub1" class="code" title="subfunction gui = updateGatetype(gui,gatetype)">updateGatetype</a>(gui,data.process.gatetype);
0057         gui = <a href="#_sub2" class="code" title="subfunction gui = updateNormalize(gui,norm)">updateNormalize</a>(gui,data.process.norm);
0058         gui = <a href="#_sub3" class="code" title="subfunction gui = updateTimescale(gui,timescale)">updateTimescale</a>(gui,data.process.timescale);
0059         <span class="keyword">if</span> data.invstd.porosity &lt;= 1
0060             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0061                 <span class="string">'BackgroundColor'</span>,gui.myui.colors.editBG,<span class="keyword">...</span>
0062                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0063         <span class="keyword">else</span>
0064             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0065                 <span class="string">'BackgroundColor'</span>,<span class="string">'r'</span>,<span class="keyword">...</span>
0066                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0067         <span class="keyword">end</span>
0068         
0069         <span class="comment">%% update standard inversion panel</span>
0070         <span class="comment">% inversion method popup</span>
0071         istring = {<span class="string">'Mono exp.'</span>,<span class="string">'Several free exp. (2-5)'</span>,<span class="keyword">...</span>
0072             <span class="string">'Multi exp. (LSQ)'</span>,<span class="string">'Multi exp. (InvLaplace)'</span>};
0073         set(gui.popup_handles.invstd_InvType,<span class="string">'String'</span>,istring);
0074         <span class="keyword">switch</span> data.invstd.invtype
0075             <span class="keyword">case</span> <span class="string">'mono'</span>
0076                 <span class="comment">% inversion method popup</span>
0077                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0078                 
0079                 <span class="comment">% additional inversion settings</span>
0080                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0081                     <span class="string">'Value'</span>,1,<span class="string">'String'</span>,<span class="string">'none'</span>);
0082                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0083                     <span class="string">'String'</span>,<span class="string">'No extra options'</span>);
0084                 
0085                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0086                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0087                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0088                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0089                 
0090                 <span class="comment">% Tbulk</span>
0091                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0092                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0093                 
0094             <span class="keyword">case</span> <span class="string">'free'</span>
0095                 <span class="comment">% inversion method popup</span>
0096                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0097                 
0098                 <span class="comment">% additional inversion settings</span>
0099                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0100                     <span class="string">'Value'</span>,data.invstd.freeDT,<span class="keyword">...</span>
0101                     <span class="string">'String'</span>,{<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>});
0102                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0103                     <span class="string">'String'</span>,<span class="string">'No. of free decay times T'</span>);
0104                 
0105                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0106                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0107                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0108                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0109                 
0110                 <span class="comment">% Tbulk</span>
0111                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0112                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0113                 
0114             <span class="keyword">case</span> <span class="string">'NNLS'</span>
0115                 <span class="comment">% inversion method popup</span>
0116                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0117                 
0118                 <span class="comment">% additional inversion settings</span>
0119                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0120                     <span class="string">'String'</span>,{<span class="string">'Manual'</span>,<span class="string">'Iterative Chi2'</span>,<span class="string">'Tikhonov (SVD)'</span>,<span class="string">'TSVD (SVD)'</span>,<span class="keyword">...</span>
0121                     <span class="string">'DSVD (SVD)'</span>,<span class="string">'Discrep. (SVD)'</span>,<span class="string">'L-curve'</span>});
0122                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0123                     <span class="string">'String'</span>,<span class="string">'regularization options'</span>);
0124                 
0125                 <span class="comment">% regularization options</span>
0126                 <span class="keyword">switch</span> data.invstd.regtype
0127                     <span class="keyword">case</span> <span class="string">'manual'</span>
0128                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,1);
0129                     <span class="keyword">case</span> <span class="string">'iterchi2'</span>
0130                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,2);    
0131                     <span class="keyword">case</span> <span class="string">'gcv_tikh'</span>
0132                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,3);
0133                     <span class="keyword">case</span> <span class="string">'gcv_trunc'</span>
0134                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,4);
0135                     <span class="keyword">case</span> <span class="string">'gcv_damp'</span>
0136                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,5);
0137                     <span class="keyword">case</span> <span class="string">'discrep'</span>
0138                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,6);
0139                     <span class="keyword">case</span> <span class="string">'lcurve'</span>
0140                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,7);
0141                 <span class="keyword">end</span>
0142                 
0143                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0144                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,data.invstd.lambda,<span class="keyword">...</span>
0145                     data.invstd.lambdaR,data.invstd.NlambdaR);
0146                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0147                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,data.invstd.time,<span class="keyword">...</span>
0148                     data.invstd.Ntime);
0149                 
0150                 <span class="comment">% Tbulk</span>
0151                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0152                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0153                 
0154             <span class="keyword">case</span> <span class="string">'ILA'</span>
0155                 <span class="comment">% inversion method popup</span>
0156                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,4,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0157                 
0158                 <span class="comment">% additional inversion settings</span>
0159                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0160                     <span class="string">'String'</span>,{<span class="string">'Manual'</span>,<span class="string">'Automatic'</span>});
0161                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0162                     <span class="string">'String'</span>,<span class="string">'regularization options'</span>);
0163                 
0164                 <span class="comment">% regularization options</span>
0165                 <span class="keyword">switch</span> data.invstd.regtype
0166                     <span class="keyword">case</span> <span class="string">'manual'</span>
0167                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,1);
0168                     <span class="keyword">case</span> <span class="string">'auto'</span>
0169                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,2);
0170                         data.invstd.lambda = -1;
0171                 <span class="keyword">end</span>
0172                 
0173                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0174                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,data.invstd.lambda,<span class="keyword">...</span>
0175                     data.invstd.lambdaR,data.invstd.NlambdaR);
0176                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0177                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,data.invstd.time,<span class="keyword">...</span>
0178                     data.invstd.Ntime);
0179                 
0180                 <span class="comment">% Tbulk</span>
0181                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0182                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0183         <span class="keyword">end</span>
0184         
0185         <span class="comment">% updates CBW, BVI, rho and a</span>
0186         gui = <a href="#_sub10" class="code" title="subfunction gui = updateParams(gui,invtype,p)">updateParams</a>(gui,data.invstd.invtype,data.param);
0187         
0188         <span class="comment">%% update joint inversion panel</span>
0189         <span class="comment">% depending if it is activated or not</span>
0190         <span class="keyword">switch</span> data.info.JointInv
0191             <span class="keyword">case</span> <span class="string">'on'</span>
0192                 <span class="comment">% inversion method dependent</span>
0193                 <span class="keyword">switch</span> data.invjoint.invtype
0194                     <span class="keyword">case</span> <span class="string">'free'</span>
0195                         <span class="comment">% inversion method popup</span>
0196                         set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0197                         
0198                         <span class="comment">% PSD limits</span>
0199                         gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0200                             data.invjoint.radii,data.invjoint.Nradii);
0201                         
0202                         <span class="comment">% additional inversion settings</span>
0203                         set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0204                         
0205                         <span class="comment">% regularization options</span>
0206                         <span class="keyword">switch</span> data.invjoint.regtype
0207                             <span class="keyword">case</span> <span class="string">'manual'</span>
0208                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,1);
0209                             <span class="keyword">case</span> <span class="string">'lcurve'</span>
0210                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,2);
0211                         <span class="keyword">end</span>
0212                         
0213                         <span class="comment">% smoothness constraint and lambda</span>
0214                         gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0215                             data.invjoint.Lorder);
0216                         gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,data.invjoint.regtype,<span class="keyword">...</span>
0217                             data.invjoint.lambda,data.invjoint.lambdaR,<span class="keyword">...</span>
0218                             data.invjoint.NlambdaR,data.invstd.regtype);
0219                         
0220                         <span class="comment">% start values</span>
0221                         set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0222                         set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0223                         
0224                         <span class="comment">% geometry type dependent</span>
0225                         <span class="keyword">switch</span> data.invjoint.geometry_type
0226                             <span class="keyword">case</span> <span class="string">'cyl'</span>                                
0227                                 <span class="comment">% geometry popup</span>
0228                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0229                                     <span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0230                                 
0231                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0232                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0233                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0234                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0235                                 
0236                                 <span class="comment">% angles</span>
0237                                 set(gui.edit_handles.invjoint_alpha,<span class="string">'String'</span>,<span class="string">''</span>);
0238                                 set(gui.edit_handles.invjoint_beta,<span class="string">'String'</span>,<span class="string">''</span>);
0239                                 set(gui.edit_handles.invjoint_gamma,<span class="string">'String'</span>,<span class="string">''</span>);
0240                                 
0241                             <span class="keyword">case</span> <span class="string">'ang'</span>                                
0242                                 <span class="comment">% geometry popup</span>
0243                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0244                                     <span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0245                                 
0246                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0247                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0248                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0249                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0250                                 
0251                                 <span class="comment">% angles</span>
0252                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0253                                     <span class="string">'String'</span>,num2str(data.invjoint.alpha));
0254                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0255                                     <span class="string">'String'</span>,num2str(data.invjoint.beta));
0256                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0257                                     <span class="string">'String'</span>,num2str(data.invjoint.gamma));
0258                                 
0259                             <span class="keyword">case</span> <span class="string">'poly'</span>                                
0260                                 <span class="comment">% geometry popup</span>
0261                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0262                                     <span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0263                                 
0264                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0265                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0266                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0267                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0268                                 
0269                                 <span class="comment">% angles</span>
0270                                 polyangle = ((data.invjoint.polyN-2)/data.invjoint.polyN)*180;
0271                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0272                                     <span class="string">'String'</span>,<span class="string">''</span>);
0273                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0274                                     <span class="string">'String'</span>,num2str(polyangle));
0275                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0276                                     <span class="string">'String'</span>,<span class="string">''</span>);
0277                         <span class="keyword">end</span>
0278                         
0279                     <span class="keyword">case</span> <span class="string">'fixed'</span>
0280                         <span class="comment">% inversion method popup</span>
0281                         set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0282                         
0283                         <span class="comment">% PSD limits</span>
0284                         gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0285                             data.invjoint.radii,data.invjoint.Nradii);
0286                         
0287                         <span class="comment">% additional inversion settings</span>
0288                         set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0289                         
0290                         <span class="comment">% regularization options</span>
0291                         <span class="keyword">switch</span> data.invjoint.regtype
0292                             <span class="keyword">case</span> <span class="string">'manual'</span>
0293                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,1);
0294                             <span class="keyword">case</span> <span class="string">'lcurve'</span>
0295                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,2);
0296                         <span class="keyword">end</span>
0297                         
0298                         <span class="comment">% smoothness constraint and lambda</span>
0299                         gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0300                             data.invjoint.Lorder);
0301                         gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,<span class="string">'none'</span>,data.invjoint.lambda,<span class="keyword">...</span>
0302                             data.invjoint.lambdaR,data.invjoint.NlambdaR,<span class="keyword">...</span>
0303                             data.invstd.regtype);
0304                         
0305                         <span class="comment">% start values</span>
0306                         set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0307                         set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0308                         
0309                         <span class="comment">% geometry type dependent</span>
0310                         <span class="keyword">switch</span> data.invjoint.geometry_type
0311                             <span class="keyword">case</span> <span class="string">'cyl'</span>                                
0312                                 <span class="comment">% geometry popup</span>
0313                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0314                                     <span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0315                                 
0316                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0317                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0318                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0319                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0320                                 
0321                                 <span class="comment">% angles</span>
0322                                 set(gui.edit_handles.invjoint_alpha,<span class="string">'String'</span>,<span class="string">''</span>);
0323                                 set(gui.edit_handles.invjoint_beta,<span class="string">'String'</span>,<span class="string">''</span>);
0324                                 set(gui.edit_handles.invjoint_gamma,<span class="string">'String'</span>,<span class="string">''</span>);
0325                                 
0326                             <span class="keyword">case</span> <span class="string">'ang'</span>                                
0327                                 <span class="comment">% geometry popup</span>
0328                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0329                                     <span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0330                                 
0331                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0332                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0333                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0334                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0335                                 
0336                                 <span class="comment">% angles</span>
0337                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0338                                     <span class="string">'String'</span>,num2str(data.invjoint.alpha));
0339                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0340                                     <span class="string">'String'</span>,num2str(data.invjoint.beta));
0341                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0342                                     <span class="string">'String'</span>,num2str(data.invjoint.gamma));
0343                                 
0344                             <span class="keyword">case</span> <span class="string">'poly'</span>                                
0345                                 <span class="comment">% geometry popup</span>
0346                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0347                                     <span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0348                                 
0349                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0350                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0351                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0352                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0353                                 
0354                                 <span class="comment">% angles</span>
0355                                 polyangle = ((data.invjoint.polyN-2)/data.invjoint.polyN)*180;
0356                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0357                                     <span class="string">'String'</span>,<span class="string">''</span>);
0358                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0359                                     <span class="string">'String'</span>,num2str(polyangle));
0360                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0361                                     <span class="string">'String'</span>,<span class="string">''</span>);
0362                         <span class="keyword">end</span>
0363                         
0364                     <span class="keyword">case</span> <span class="string">'shape'</span>
0365                         <span class="comment">% inversion method popup</span>
0366                         set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0367                         
0368                         <span class="comment">% PSD limits</span>
0369                         gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0370                             data.invjoint.radii,data.invjoint.Nradii);
0371                         
0372                         <span class="comment">% additional inversion settings</span>
0373                         set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0374                         
0375                         <span class="comment">% regularization options</span>
0376                         <span class="keyword">switch</span> data.invjoint.regtype
0377                             <span class="keyword">case</span> <span class="string">'manual'</span>
0378                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,1);
0379                             <span class="keyword">case</span> <span class="string">'lcurve'</span>
0380                                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Value'</span>,2);
0381                         <span class="keyword">end</span>
0382                         
0383                         <span class="comment">% smoothness constraint and lambda</span>
0384                         gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,data.invjoint.invtype,<span class="keyword">...</span>
0385                             data.invjoint.Lorder);
0386                         gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,<span class="string">'none'</span>,data.invjoint.lambda,<span class="keyword">...</span>
0387                             data.invjoint.lambdaR,data.invjoint.NlambdaR,data.invstd.regtype);
0388                         
0389                         <span class="comment">% start values</span>
0390                         set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0391                         set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0392                         
0393                         <span class="comment">% geometry type dependent</span>
0394                         <span class="keyword">switch</span> data.invjoint.geometry_type
0395                             <span class="keyword">case</span> <span class="string">'cyl'</span>                                
0396                                 <span class="comment">% geometry popup</span>
0397                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0398                                     <span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0399                                 
0400                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0401                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0402                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0403                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0404                                 
0405                                 <span class="comment">% angles</span>
0406                                 set(gui.edit_handles.invjoint_alpha,<span class="string">'String'</span>,<span class="string">''</span>);
0407                                 set(gui.edit_handles.invjoint_beta,<span class="string">'String'</span>,<span class="string">''</span>);
0408                                 set(gui.edit_handles.invjoint_gamma,<span class="string">'String'</span>,<span class="string">''</span>);
0409                                 
0410                             <span class="keyword">case</span> <span class="string">'ang'</span>                                
0411                                 <span class="comment">% geometry popup</span>
0412                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0413                                     <span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0414                                 
0415                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0416                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0417                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0418                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0419                                 
0420                                 <span class="comment">% angles</span>
0421                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0422                                     <span class="string">'String'</span>,num2str(data.invjoint.alpha));
0423                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0424                                     <span class="string">'String'</span>,num2str(data.invjoint.beta));
0425                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0426                                     <span class="string">'String'</span>,num2str(data.invjoint.gamma));
0427                                 
0428                             <span class="keyword">case</span> <span class="string">'poly'</span>                                
0429                                 <span class="comment">% geometry popup</span>
0430                                 set(gui.popup_handles.invjoint_geometry_type,<span class="keyword">...</span>
0431                                     <span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0432                                 
0433                                 <span class="comment">% polygon sides and corresponding angle beta</span>
0434                                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0435                                     <span class="string">'Value'</span>,data.invjoint.polyN-2);
0436                                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0437                                 
0438                                 <span class="comment">% angles</span>
0439                                 polyangle = ((data.invjoint.polyN-2)/data.invjoint.polyN)*180;
0440                                 set(gui.edit_handles.invjoint_alpha,<span class="keyword">...</span>
0441                                     <span class="string">'String'</span>,<span class="string">''</span>);
0442                                 set(gui.edit_handles.invjoint_beta,<span class="keyword">...</span>
0443                                     <span class="string">'String'</span>,num2str(polyangle));
0444                                 set(gui.edit_handles.invjoint_gamma,<span class="keyword">...</span>
0445                                     <span class="string">'String'</span>,<span class="string">''</span>);
0446                         <span class="keyword">end</span>
0447                 <span class="keyword">end</span>
0448 
0449             <span class="keyword">case</span> <span class="string">'off'</span>
0450                 <span class="comment">% inversion method popup</span>
0451                 set(gui.popup_handles.invjoint_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0452                 
0453                 <span class="comment">% PSD limits</span>
0454                 gui = <a href="#_sub5" class="code" title="subfunction gui = updateInvjointRadii(gui,invtype,radii,Nradii)">updateInvjointRadii</a>(gui,<span class="string">'off'</span>,0,0);
0455                 
0456                 <span class="comment">% additional inversion settings</span>
0457                 set(gui.popup_handles.invjoint_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0458                 
0459                 <span class="comment">% smoothness constraint and lambda</span>
0460                 gui = <a href="#_sub9" class="code" title="subfunction gui = updateLorderJoint(gui,invtype,Lorder)">updateLorderJoint</a>(gui,<span class="string">'off'</span>,0);
0461                 gui = <a href="#_sub7" class="code" title="subfunction gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)">updateLambdaJoint</a>(gui,<span class="string">'none'</span>,data.invjoint.lambda,<span class="keyword">...</span>
0462                     data.invjoint.lambdaR,data.invjoint.NlambdaR,data.invstd.regtype);
0463                 
0464                 <span class="comment">% polygon sides and angles</span>
0465                 set(gui.popup_handles.invjoint_polyN,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0466                 set(gui.edit_handles.invjoint_alpha,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0467                 set(gui.edit_handles.invjoint_beta,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0468                 set(gui.edit_handles.invjoint_gamma,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0469                 
0470                 <span class="comment">% start values</span>
0471                 set(gui.edit_handles.invjoint_rhostart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0472                 set(gui.edit_handles.invjoint_anglestart,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0473         <span class="keyword">end</span>
0474         
0475         <span class="comment">% this is always updated</span>
0476         <span class="keyword">switch</span> data.pressure.unit
0477             <span class="keyword">case</span> <span class="string">'Pa'</span>
0478                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,1);
0479             <span class="keyword">case</span> <span class="string">'kPa'</span>
0480                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,2);
0481             <span class="keyword">case</span> <span class="string">'MPa'</span>
0482                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,3);
0483             <span class="keyword">case</span> <span class="string">'bar'</span>
0484                 set(gui.popup_handles.invjoint_pressure_units,<span class="string">'Value'</span>,4);
0485         <span class="keyword">end</span>
0486         set(gui.table_handles.invjoint_table,<span class="keyword">...</span>
0487             <span class="string">'ColumnName'</span>,{<span class="string">'use'</span>,[<span class="string">'p ['</span>,data.pressure.unit,<span class="string">']'</span>],<span class="string">'S [-]'</span>,<span class="string">'D / I'</span>})
0488         
0489         table = data.pressure.table;
0490         <span class="keyword">for</span> i = 1:size(table,1)
0491             table{i,2} = table{i,2}.*data.pressure.unitfac;
0492         <span class="keyword">end</span>
0493         set(gui.table_handles.invjoint_table,<span class="string">'Data'</span>,table);
0494         
0495     <span class="keyword">case</span> <span class="string">'off'</span>
0496         <span class="comment">%% update the processing panel</span>
0497         set(gui.edit_handles.process_start,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0498             <span class="string">'String'</span>,num2str(data.process.start));
0499         set(gui.edit_handles.process_end,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0500             <span class="string">'String'</span>,num2str(data.process.end));
0501         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0502             <span class="string">'String'</span>,num2str(data.process.Nechoes));
0503         
0504         gui = <a href="#_sub1" class="code" title="subfunction gui = updateGatetype(gui,gatetype)">updateGatetype</a>(gui,data.process.gatetype);        
0505         set(gui.radio_handles.process_normalize_on,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,0);
0506         set(gui.radio_handles.process_normalize_off,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,1);
0507         set(gui.radio_handles.process_timescale_s,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,1);
0508         set(gui.radio_handles.process_timescale_ms,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'Value'</span>,0);
0509         
0510         <span class="keyword">if</span> data.invstd.porosity &lt;= 1
0511             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0512                 <span class="string">'BackgroundColor'</span>,<span class="string">'w'</span>,<span class="keyword">...</span>
0513                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0514         <span class="keyword">else</span>
0515             set(gui.edit_handles.invstd_porosity,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0516                 <span class="string">'BackgroundColor'</span>,<span class="string">'r'</span>,<span class="keyword">...</span>
0517                 <span class="string">'String'</span>,num2str(data.invstd.porosity));
0518         <span class="keyword">end</span>
0519         
0520         <span class="comment">%% update standard inversion panel</span>
0521         <span class="comment">% inversion method popup</span>
0522         istring = {<span class="string">'Mono exp.'</span>,<span class="string">'Several free exp. (2-5)'</span>,<span class="string">'Multi exp. (LSQ)'</span>};        
0523         set(gui.popup_handles.invstd_InvType,<span class="string">'String'</span>,istring);
0524         <span class="keyword">switch</span> data.invstd.invtype
0525             <span class="keyword">case</span> <span class="string">'mono'</span>
0526                 <span class="comment">% inversion method popup</span>
0527                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0528                 
0529                 <span class="comment">% additional inversion settings</span>
0530                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0531                     <span class="string">'Value'</span>,1,<span class="string">'String'</span>,<span class="string">'none'</span>);
0532                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0533                     <span class="string">'String'</span>,<span class="string">'No extra options'</span>);
0534                 
0535                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0536                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0537                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0538                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0539                 
0540                 <span class="comment">% Tbulk</span>
0541                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0542                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0543                 
0544             <span class="keyword">case</span> <span class="string">'free'</span>
0545                 <span class="comment">% inversion method popup</span>
0546                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0547                 
0548                 <span class="comment">% additional inversion settings</span>
0549                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0550                     <span class="string">'Value'</span>,data.invstd.freeDT,<span class="keyword">...</span>
0551                     <span class="string">'String'</span>,{<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>});
0552                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0553                     <span class="string">'String'</span>,<span class="string">'No. of free decay times T'</span>);
0554                 
0555                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0556                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,0,0,0);
0557                 gui = <a href="#_sub8" class="code" title="subfunction gui = updateLorder(gui,invtype,Lorder)">updateLorder</a>(gui,data.invstd.invtype,data.invstd.Lorder);
0558                 gui = <a href="#_sub4" class="code" title="subfunction gui = updateInvstdTime(gui,invtype,time,Ntime)">updateInvstdTime</a>(gui,data.invstd.invtype,0,0);
0559                 
0560                 <span class="comment">% Tbulk</span>
0561                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0562                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0563                 
0564             <span class="keyword">case</span> <span class="string">'NNLS'</span>
0565                 <span class="comment">% inversion method popup</span>
0566                 set(gui.popup_handles.invstd_InvType,<span class="string">'Value'</span>,3,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0567                 
0568                 <span class="comment">% additional inversion settings</span>
0569                 set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0570                     <span class="string">'String'</span>,{<span class="string">'Manual'</span>,<span class="string">'Iterative Chi2'</span>,<span class="string">'L-curve'</span>});
0571                 set(gui.text_handles.invstd_InvTypeOpt,<span class="keyword">...</span>
0572                     <span class="string">'String'</span>,<span class="string">'regularization options'</span>);
0573                 
0574                 <span class="comment">% regularization options</span>
0575                 <span class="keyword">switch</span> data.invstd.regtype
0576                     <span class="keyword">case</span> <span class="string">'manual'</span>
0577                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,1);
0578                     <span class="keyword">case</span> <span class="string">'iterchi2'</span>
0579                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,2);    
0580                     <span class="keyword">case</span> <span class="string">'lcurve'</span>
0581                         set(gui.popup_handles.invstd_InvTypeOpt,<span class="string">'Value'</span>,3);                    
0582                 <span class="keyword">end</span>
0583                 
0584                 <span class="comment">% lambda, smoothness constraint and RTD limits</span>
0585                 gui = <a href="#_sub6" class="code" title="subfunction gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)">updateLambda</a>(gui,data.invstd.regtype,data.invstd.lambda,<span class="keyword">...</span>
0586                     data.invstd.lambdaR,data.invstd.NlambdaR);
0587                 data.invstd.Lorder = 1;
0588                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0589                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0590                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0591                 
0592                 set(gui.edit_handles.invstd_time_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0593                     <span class="string">'String'</span>,num2str(data.invstd.time(1)));
0594                 set(gui.edit_handles.invstd_time_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0595                     <span class="string">'String'</span>,num2str(data.invstd.time(2)));
0596                 set(gui.edit_handles.invstd_Ntime,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0597                     <span class="string">'String'</span>,num2str(data.invstd.Ntime));
0598                 
0599                 <span class="comment">% Tbulk</span>
0600                 set(gui.edit_handles.invstd_Tbulk,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0601                     <span class="string">'String'</span>,num2str(data.invstd.Tbulk));
0602         <span class="keyword">end</span>
0603         
0604         <span class="comment">%% update petro parameter panel</span>
0605         data.param.CBWcutoff = 3;
0606         data.param.BVIcutoff = 33;
0607         data.param.rho = 10;
0608         data.param.a = 2;
0609         setappdata(fig,<span class="string">'data'</span>,data);
0610         set(gui.edit_handles.param_CBW,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0611             <span class="string">'String'</span>,num2str(data.param.CBWcutoff));
0612         set(gui.edit_handles.param_BVI,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0613             <span class="string">'String'</span>,num2str(data.param.BVIcutoff));
0614         set(gui.edit_handles.param_rho,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0615             <span class="string">'String'</span>,num2str(data.param.rho));
0616         set(gui.edit_handles.param_geom,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0617             <span class="string">'String'</span>,num2str(data.param.a));
0618         set(gui.edit_handles.param_calibVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0619             <span class="string">'String'</span>,num2str(data.param.calibVol));
0620         set(gui.edit_handles.param_calibAmp,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0621             <span class="string">'String'</span>,num2str(data.param.calibAmp));
0622         set(gui.edit_handles.param_sampVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0623             <span class="string">'String'</span>,num2str(data.param.sampVol));
0624 <span class="keyword">end</span>
0625 
0626 <span class="comment">% Matlab needs some time</span>
0627 pause(0.001);
0628 
0629 <span class="keyword">end</span>
0630 
0631 <span class="comment">%% sub functions</span>
0632 <a name="_sub1" href="#_subfunctions" class="code">function gui = updateGatetype(gui,gatetype)</a>
0633 
0634 set(gui.radio_handles.process_gates_log,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0635 set(gui.radio_handles.process_gates_lin,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0636 set(gui.radio_handles.process_gates_none,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0637 
0638 <span class="keyword">switch</span> gatetype
0639     
0640     <span class="keyword">case</span> <span class="string">'log'</span>
0641         
0642         set(gui.radio_handles.process_gates_log,<span class="string">'Value'</span>,1);
0643         set(gui.radio_handles.process_gates_lin,<span class="string">'Value'</span>,0);
0644         set(gui.radio_handles.process_gates_none,<span class="string">'Value'</span>,0);
0645         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0646         
0647     <span class="keyword">case</span> <span class="string">'lin'</span>
0648         
0649         set(gui.radio_handles.process_gates_log,<span class="string">'Value'</span>,0);
0650         set(gui.radio_handles.process_gates_lin,<span class="string">'Value'</span>,1);
0651         set(gui.radio_handles.process_gates_none,<span class="string">'Value'</span>,0);
0652         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0653         
0654     <span class="keyword">case</span> <span class="string">'raw'</span>
0655         
0656         set(gui.radio_handles.process_gates_log,<span class="string">'Value'</span>,0);
0657         set(gui.radio_handles.process_gates_lin,<span class="string">'Value'</span>,0);
0658         set(gui.radio_handles.process_gates_none,<span class="string">'Value'</span>,1);
0659         set(gui.edit_handles.process_Nechoes,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0660         
0661 <span class="keyword">end</span>
0662 
0663 <span class="keyword">end</span>
0664 
0665 <a name="_sub2" href="#_subfunctions" class="code">function gui = updateNormalize(gui,norm)</a>
0666 
0667 <span class="keyword">switch</span> norm    
0668     <span class="keyword">case</span> 0        
0669         set(gui.radio_handles.process_normalize_on,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0670         set(gui.radio_handles.process_normalize_off,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0671         
0672     <span class="keyword">case</span> 1        
0673         set(gui.radio_handles.process_normalize_on,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0674         set(gui.radio_handles.process_normalize_off,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0675 <span class="keyword">end</span>
0676 
0677 <span class="keyword">end</span>
0678 
0679 <a name="_sub3" href="#_subfunctions" class="code">function gui = updateTimescale(gui,timescale)</a>
0680 
0681 <span class="keyword">switch</span> timescale
0682     
0683     <span class="keyword">case</span> <span class="string">'s'</span>        
0684         set(gui.radio_handles.process_timescale_s,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0685         set(gui.radio_handles.process_timescale_ms,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0686         set(gui.text_handles.invstd_RTDtimes,<span class="string">'String'</span>,<span class="string">'RTD - min [s] | max [s] | # / dec'</span>,<span class="keyword">...</span>
0687             <span class="string">'FontSize'</span>,10);
0688         set(gui.text_handles.petro_Tbulk,<span class="string">'String'</span>,<span class="keyword">...</span>
0689             [<span class="string">'Tbulk [s]   |   '</span>,char(hex2dec(<span class="string">'03C1'</span>)),<span class="string">' [m/s]   |   geom'</span>]);
0690         
0691     <span class="keyword">case</span> <span class="string">'ms'</span>        
0692         set(gui.radio_handles.process_timescale_s,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,0);
0693         set(gui.radio_handles.process_timescale_ms,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'Value'</span>,1);
0694         set(gui.text_handles.invstd_RTDtimes,<span class="string">'String'</span>,<span class="string">'RTD - min [ms] | max [ms] | # / dec'</span>,<span class="keyword">...</span>
0695             <span class="string">'FontSize'</span>,9);
0696         set(gui.text_handles.petro_Tbulk,<span class="string">'String'</span>,<span class="keyword">...</span>
0697             [<span class="string">'Tbulk [ms]   |   '</span>,char(hex2dec(<span class="string">'03C1'</span>)),<span class="string">' [m/s]   |   geom'</span>]);        
0698 <span class="keyword">end</span>
0699 
0700 <span class="keyword">end</span>
0701 
0702 <a name="_sub4" href="#_subfunctions" class="code">function gui = updateInvstdTime(gui,invtype,time,Ntime)</a>
0703 
0704 <span class="keyword">switch</span> invtype
0705     
0706     <span class="keyword">case</span> {<span class="string">'mono'</span>,<span class="string">'free'</span>}        
0707         set(gui.edit_handles.invstd_time_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0708         set(gui.edit_handles.invstd_time_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0709         set(gui.edit_handles.invstd_Ntime,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0710         
0711     <span class="keyword">case</span> {<span class="string">'ILA'</span>,<span class="string">'NNLS'</span>}        
0712         set(gui.edit_handles.invstd_time_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(time(1)));
0713         set(gui.edit_handles.invstd_time_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(time(2)));
0714         set(gui.edit_handles.invstd_Ntime,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(Ntime));   
0715 <span class="keyword">end</span>
0716 
0717 <span class="keyword">end</span>
0718 
0719 <a name="_sub5" href="#_subfunctions" class="code">function gui = updateInvjointRadii(gui,invtype,radii,Nradii)</a>
0720 
0721 <span class="keyword">switch</span> invtype    
0722     <span class="keyword">case</span> {<span class="string">'fixed'</span>,<span class="string">'shape'</span>,<span class="string">'off'</span>}        
0723         set(gui.edit_handles.invjoint_radii_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0724         set(gui.edit_handles.invjoint_radii_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0725         set(gui.edit_handles.invjoint_Nradii,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0726         
0727     <span class="keyword">case</span> {<span class="string">'free'</span>}        
0728         set(gui.edit_handles.invjoint_radii_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(radii(1)));
0729         set(gui.edit_handles.invjoint_radii_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(radii(2)));
0730         set(gui.edit_handles.invjoint_Nradii,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(Nradii));
0731 <span class="keyword">end</span>
0732 
0733 <span class="keyword">end</span>
0734 
0735 <a name="_sub6" href="#_subfunctions" class="code">function gui = updateLambda(gui,regtype,lambda,lambdaR,NlambdaR)</a>
0736 
0737 <span class="keyword">switch</span> regtype    
0738     <span class="keyword">case</span> <span class="string">'none'</span>        
0739         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0740         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0741         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0742         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0743         
0744     <span class="keyword">case</span> <span class="string">'manual'</span>        
0745         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambda));
0746         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0747         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0748         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0749         
0750     <span class="keyword">case</span> <span class="string">'auto'</span>        
0751         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(lambda));
0752         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0753         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0754         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0755         
0756     <span class="keyword">case</span> <span class="string">'lcurve'</span>        
0757         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(1)));
0758         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(2)));
0759         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(NlambdaR));
0760         gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0761         
0762     <span class="keyword">case</span> <span class="string">'iterchi2'</span>        
0763         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(1)));
0764         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(2)));
0765         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(NlambdaR));
0766         gui.plots.DistPanel.TabTitles = {<span class="string">'CHI2'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0767         
0768     <span class="keyword">case</span> {<span class="string">'gcv_tikh'</span>,<span class="string">'gcv_trunc'</span>,<span class="string">'gcv_damp'</span>,<span class="string">'discrep'</span>}        
0769         set(gui.edit_handles.invstd_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(lambda));
0770         set(gui.edit_handles.invstd_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0771         set(gui.edit_handles.invstd_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0772         gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0773 <span class="keyword">end</span>
0774 
0775 <span class="keyword">end</span>
0776 
0777 <a name="_sub7" href="#_subfunctions" class="code">function gui = updateLambdaJoint(gui,regtype,lambda,lambdaR,NlambdaR,regtypestd)</a>
0778 
0779 <span class="keyword">switch</span> regtype    
0780     <span class="keyword">case</span> <span class="string">'none'</span>        
0781         <span class="keyword">switch</span> regtypestd            
0782             <span class="keyword">case</span> <span class="string">'lcurve'</span>                
0783                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0784                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0785                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0786                 gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0787                 
0788             <span class="keyword">case</span> <span class="string">'iterchi2'</span>                
0789                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0790                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0791                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0792                 gui.plots.DistPanel.TabTitles = {<span class="string">'CHI2'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0793                 
0794             <span class="keyword">otherwise</span>                
0795                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0796                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0797                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0798                 gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0799         <span class="keyword">end</span>
0800         
0801     <span class="keyword">case</span> <span class="string">'manual'</span>        
0802         <span class="keyword">switch</span> regtypestd            
0803             <span class="keyword">case</span> <span class="string">'lcurve'</span>                
0804                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambda));
0805                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0806                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0807                 gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0808                 
0809             <span class="keyword">otherwise</span>                
0810                 set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambda));
0811                 set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0812                 set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0813                 gui.plots.DistPanel.TabTitles = {<span class="string">'RTD'</span>,<span class="string">'PSD'</span>,<span class="string">'PSD (joint)'</span>};
0814         <span class="keyword">end</span>
0815         
0816     <span class="keyword">case</span> <span class="string">'lcurve'</span>        
0817         set(gui.edit_handles.invjoint_lambda_min,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(1)));
0818         set(gui.edit_handles.invjoint_lambda_max,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(lambdaR(2)));
0819         set(gui.edit_handles.invjoint_NlambdaR,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(NlambdaR));
0820         gui.plots.DistPanel.TabTitles = {<span class="string">'L-CURVE'</span>,<span class="string">'RMS'</span>,<span class="string">'PSD (joint)'</span>};
0821 <span class="keyword">end</span>
0822 
0823 <span class="keyword">end</span>
0824 
0825 <a name="_sub8" href="#_subfunctions" class="code">function gui = updateLorder(gui,invtype,Lorder)</a>
0826 
0827 <span class="keyword">switch</span> invtype
0828     <span class="keyword">case</span> {<span class="string">'mono'</span>,<span class="string">'free'</span>}
0829         set(gui.radio_handles.invstd_Lorder0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0830         set(gui.radio_handles.invstd_Lorder1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0831         set(gui.radio_handles.invstd_Lorder2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0832         
0833     <span class="keyword">case</span> {<span class="string">'ILA'</span>,<span class="string">'NNLS'</span>}
0834         set(gui.radio_handles.invstd_Lorder0,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0835         set(gui.radio_handles.invstd_Lorder1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0836         set(gui.radio_handles.invstd_Lorder2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0837         
0838         <span class="keyword">switch</span> Lorder
0839             <span class="keyword">case</span> 0
0840                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,1);
0841                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,0);
0842                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,0);
0843                 
0844             <span class="keyword">case</span> 1
0845                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,0);
0846                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,1);
0847                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,0);
0848                 
0849             <span class="keyword">case</span> 2
0850                 set(gui.radio_handles.invstd_Lorder0,<span class="string">'Value'</span>,0);
0851                 set(gui.radio_handles.invstd_Lorder1,<span class="string">'Value'</span>,0);
0852                 set(gui.radio_handles.invstd_Lorder2,<span class="string">'Value'</span>,1);
0853         <span class="keyword">end</span>
0854 <span class="keyword">end</span>
0855 
0856 <span class="keyword">end</span>
0857 
0858 <a name="_sub9" href="#_subfunctions" class="code">function gui = updateLorderJoint(gui,invtype,Lorder)</a>
0859 
0860 <span class="keyword">switch</span> invtype
0861     <span class="keyword">case</span> {<span class="string">'fixed'</span>,<span class="string">'shape'</span>,<span class="string">'off'</span>}
0862         set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0863         set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0864         set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Enable'</span>,<span class="string">'off'</span>);
0865         
0866     <span class="keyword">case</span> <span class="string">'free'</span>
0867         set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0868         set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0869         set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Enable'</span>,<span class="string">'on'</span>);
0870         
0871         <span class="keyword">switch</span> Lorder
0872             <span class="keyword">case</span> 0
0873                 set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Value'</span>,1);
0874                 set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Value'</span>,0);
0875                 set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Value'</span>,0);
0876                 
0877             <span class="keyword">case</span> 1
0878                 set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Value'</span>,0);
0879                 set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Value'</span>,1);
0880                 set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Value'</span>,0);
0881                 
0882             <span class="keyword">case</span> 2
0883                 set(gui.radio_handles.invjoint_Lorder0,<span class="string">'Value'</span>,0);
0884                 set(gui.radio_handles.invjoint_Lorder1,<span class="string">'Value'</span>,0);
0885                 set(gui.radio_handles.invjoint_Lorder2,<span class="string">'Value'</span>,1);
0886         <span class="keyword">end</span>
0887 <span class="keyword">end</span>
0888 
0889 <span class="keyword">end</span>
0890 
0891 <a name="_sub10" href="#_subfunctions" class="code">function gui = updateParams(gui,invtype,p)</a>
0892 
0893 <span class="keyword">switch</span> invtype
0894     <span class="keyword">case</span> {<span class="string">'mono'</span>,<span class="string">'free'</span>}
0895         set(gui.edit_handles.param_CBW,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(p.CBWcutoff));
0896         set(gui.edit_handles.param_BVI,<span class="string">'Enable'</span>,<span class="string">'off'</span>,<span class="string">'String'</span>,num2str(p.BVIcutoff));
0897         set(gui.edit_handles.param_rho,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.rho));
0898         set(gui.edit_handles.param_geom,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.a));
0899         
0900     <span class="keyword">case</span> {<span class="string">'ILA'</span>,<span class="string">'NNLS'</span>}
0901         set(gui.edit_handles.param_CBW,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.CBWcutoff));
0902         set(gui.edit_handles.param_BVI,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.BVIcutoff));
0903         set(gui.edit_handles.param_rho,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.rho));
0904         set(gui.edit_handles.param_geom,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.a));
0905         
0906 <span class="keyword">end</span>
0907 set(gui.edit_handles.param_calibVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.calibVol));
0908 set(gui.edit_handles.param_calibAmp,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.calibAmp));
0909 set(gui.edit_handles.param_sampVol,<span class="string">'Enable'</span>,<span class="string">'on'</span>,<span class="string">'String'</span>,num2str(p.sampVol));
0910 
0911 <span class="keyword">end</span>
0912 
0913 <span class="comment">%------------- END OF CODE --------------</span>
0914 
0915 <span class="comment">%% License:</span>
0916 <span class="comment">% MIT License</span>
0917 <span class="comment">%</span>
0918 <span class="comment">% Copyright (c) 2018 Thomas Hiller</span>
0919 <span class="comment">%</span>
0920 <span class="comment">% Permission is hereby granted, free of charge, to any person obtaining a copy</span>
0921 <span class="comment">% of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
0922 <span class="comment">% in the Software without restriction, including without limitation the rights</span>
0923 <span class="comment">% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
0924 <span class="comment">% copies of the Software, and to permit persons to whom the Software is</span>
0925 <span class="comment">% furnished to do so, subject to the following conditions:</span>
0926 <span class="comment">%</span>
0927 <span class="comment">% The above copyright notice and this permission notice shall be included in all</span>
0928 <span class="comment">% copies or substantial portions of the Software.</span>
0929 <span class="comment">%</span>
0930 <span class="comment">% THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
0931 <span class="comment">% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
0932 <span class="comment">% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
0933 <span class="comment">% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
0934 <span class="comment">% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
0935 <span class="comment">% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
0936 <span class="comment">% SOFTWARE.</span></pre></div>
<hr><address>Generated by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>